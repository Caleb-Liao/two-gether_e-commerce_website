(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3a46c15a"],{1876:function(t,e,a){},"1dde":function(t,e,a){var o=a("d039"),i=a("b622"),c=a("2d00"),n=i("species");t.exports=function(t){return c>=51||!o((function(){var e=[],a=e.constructor={};return a[n]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},4955:function(t,e,a){t.exports=a.p+"img/creditcard.3810a155.svg"},5789:function(t,e,a){t.exports=a.p+"img/cart2.25e64b59.svg"},"65f0":function(t,e,a){var o=a("861d"),i=a("e8b5"),c=a("b622"),n=c("species");t.exports=function(t,e){var a;return i(t)&&(a=t.constructor,"function"!=typeof a||a!==Array&&!i(a.prototype)?o(a)&&(a=a[n],null===a&&(a=void 0)):a=void 0),new(void 0===a?Array:a)(0===e?0:e)}},"6fe5":function(t,e,a){"use strict";var o=a("1876"),i=a.n(o);i.a},8418:function(t,e,a){"use strict";var o=a("c04e"),i=a("9bf2"),c=a("5c6c");t.exports=function(t,e,a){var n=o(e);n in t?i.f(t,n,c(0,a)):t[n]=a}},"99af":function(t,e,a){"use strict";var o=a("23e7"),i=a("d039"),c=a("e8b5"),n=a("861d"),r=a("7b0b"),s=a("50c4"),l=a("8418"),u=a("65f0"),d=a("1dde"),p=a("b622"),f=a("2d00"),m=p("isConcatSpreadable"),v=9007199254740991,h="Maximum allowed index exceeded",g=f>=51||!i((function(){var t=[];return t[m]=!1,t.concat()[0]!==t})),b=d("concat"),y=function(t){if(!n(t))return!1;var e=t[m];return void 0!==e?!!e:c(t)},_=!g||!b;o({target:"Array",proto:!0,forced:_},{concat:function(t){var e,a,o,i,c,n=r(this),d=u(n,0),p=0;for(e=-1,o=arguments.length;e<o;e++)if(c=-1===e?n:arguments[e],y(c)){if(i=s(c.length),p+i>v)throw TypeError(h);for(a=0;a<i;a++,p++)a in c&&l(d,p,c[a])}else{if(p>=v)throw TypeError(h);l(d,p++,c)}return d.length=p,d}})},b441:function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"frontendProductModal"},[o("el-dialog",{attrs:{visible:t.dialogVisible,width:"900px","before-close":t.closeModal},on:{"update:visible":function(e){t.dialogVisible=e}}},[o("el-row",{staticClass:"Modal"},[o("el-col",{attrs:{span:11,xs:24}},[o("div",{staticClass:"imgCircle"},[o("img",{staticClass:"productImg",attrs:{src:t.product.imageUrl[0],alt:""}})])]),o("el-col",{attrs:{span:13,xs:24}},[o("h3",[t._v(t._s(t.product.title))]),o("div",{staticClass:"basicInformation"},[o("h5",[t._v("基本資訊")]),o("p",[t._v("產品類別："+t._s(t.product.category))]),o("p",[t._v("性別："+t._s(t.product.options.gender))]),o("p",[t._v("地區："+t._s(t.product.options.area))]),o("p",[t._v("價錢："+t._s(t.product.price)+" $")])]),o("div",{staticClass:"line"}),o("div",{staticClass:"productInformation"},[o("h5",[t._v("產品資訊")]),o("div",{staticStyle:{display:"flex"}},[o("p",{staticStyle:{width:"22%"}},[t._v("產品內容：")]),o("p",{staticStyle:{width:"75%"}},[t._v(t._s(t.product.content))])]),o("div",{staticStyle:{display:"flex"}},[o("p",{staticStyle:{width:"22%"}},[t._v("產品描述：")]),o("p",{staticStyle:{width:"75%"}},[t._v(t._s(t.product.description))])])]),o("div",{staticClass:"button"},[o("el-button",{on:{click:function(e){return t.addToCart(t.product.id,"buy")}}},[t._v("直接購買"),o("img",{attrs:{src:a("4955"),alt:""}})]),o("el-button",{on:{click:function(e){return t.addToCart(t.product.id,"add")}}},[t._v("加入購物車"),o("img",{attrs:{src:a("5789"),alt:""}})])],1)])],1),o("div",{staticClass:"closeIcon",on:{click:t.closeModal}},[o("img",{attrs:{src:a("e67b"),alt:""}})])],1)],1)},i=[],c=(a("99af"),{data:function(){return{product:{imageUrl:[],options:{}}}},props:{dialogVisible:{type:Boolean,required:!0}},methods:{closeModal:function(){this.$emit("close-modal")},getProduct:function(t){var e=this,a="".concat("https://course-ec-api.hexschool.io","/api/").concat("f6274412-caf4-4237-aca4-557a5d22b124","/ec/product/").concat(t);this.axios.get(a).then((function(t){e.product=t.data.data})).catch((function(t){console.log(t)}))},addToCart:function(t,e){var a=this,o="".concat("https://course-ec-api.hexschool.io","/api/").concat("f6274412-caf4-4237-aca4-557a5d22b124","/ec/shopping");this.axios.post(o,{product:t,quantity:1}).then((function(t){a.$bus.$emit("updateCartNum"),a.$notify({title:"恭喜～",message:"商品已經加入購物車囉ヽ(●´∀`●)ﾉ",offset:150}),"buy"===e&&a.$router.push({name:"Cart"})})).catch((function(){a.$notify({title:"咦～",message:"商品已經在購物車裡囉(｡◕∀◕｡)",offset:150})}))}}}),n=c,r=(a("f956"),a("2877")),s=Object(r["a"])(n,o,i,!1,null,null,null);e["a"]=s.exports},b789:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"cartPage"},[t._m(0),o("el-steps",{attrs:{active:t.active,"finish-status":"success"}},[o("el-step",{directives:[{name:"show",rawName:"v-show",value:0==t.active,expression:"active == 0"}],attrs:{title:"您的商品"}},[o("template",{slot:"description"},[o("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"請輸入優惠碼",clearable:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.sendCouponCode(e)}},model:{value:t.couponCode,callback:function(e){t.couponCode=e},expression:"couponCode"}}),0==t.couponStatus?o("span",{staticStyle:{color:"red"}},[o("i",{staticClass:"el-icon-warning-outline"},[t._v("您的折扣碼已失效，請重新輸入")])]):t._e(),o("el-button",{on:{click:t.deleteAll}},[t._v("清空購物車")]),o("el-table",{attrs:{data:t.cart}},[o("el-table-column",{attrs:{width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return o("div",{},[o("el-image",{staticStyle:{width:"100%",cursor:"pointer"},attrs:{src:e.row.product.imageUrl[0]},on:{click:function(a){return t.openModal(e.row.product.id)}}})],1)}}])}),o("el-table-column",{attrs:{prop:"product.title",label:"品名",width:"500",align:"center"}}),o("el-table-column",{attrs:{prop:"product.category",label:"類別",width:"180",align:"center"}}),o("el-table-column",{attrs:{prop:"product.price",label:"小計",align:"center"}}),o("el-table-column",{scopedSlots:t._u([{key:"default",fn:function(e){return o("div",{},[o("i",{staticClass:"el-icon-delete",staticStyle:{cursor:"pointer","font-size":"20px"},on:{click:function(a){return t.deleteItem(e.row.product.id)}}})])}}])})],1),o("el-button",{on:{click:function(e){t.active++}}},[t._v("前往結帳"),o("img",{attrs:{src:a("4955"),alt:""}})]),o("p",[t._v("運費:0")]),o("p",[t._v("優惠碼折扣:-666(-20%)")]),o("p",[t._v("共計:1234$")])],1)],2),o("el-step",{directives:[{name:"show",rawName:"v-show",value:1==t.active,expression:"active == 1"}],staticStyle:{height:"80vh"},attrs:{title:"請填寫資料"}},[o("template",{slot:"description"},[o("el-form",{ref:"ruleForm",staticStyle:{margin:"5% 0 0 20%"},attrs:{model:t.form,rules:t.rules,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"姓名",prop:"name"}},[o("el-input",{staticClass:"input",attrs:{placeholder:"請填寫當日活動者"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),o("el-form-item",{attrs:{label:"電話",prop:"tel"}},[o("el-input",{staticClass:"input",attrs:{placeholder:"0912-345-678"},model:{value:t.form.tel,callback:function(e){t.$set(t.form,"tel",e)},expression:"form.tel"}})],1),o("el-form-item",{attrs:{label:"Email",prop:"email"}},[o("el-input",{staticClass:"input",attrs:{placeholder:"abc123999@gmail.com"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),o("el-form-item",{attrs:{label:"付款方式",prop:"payment"}},[o("el-select",{attrs:{placeholder:"請選擇付款方式"},model:{value:t.form.payment,callback:function(e){t.$set(t.form,"payment",e)},expression:"form.payment"}},t._l(t.payment,(function(t){return o("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1),o("el-form-item",{attrs:{label:"備註(非必填)"}},[o("el-input",{staticClass:"input",attrs:{type:"textarea",placeholder:"小提示：可以在我們聯絡您之前，先簡單告訴我們您的需求唷！ "},model:{value:t.form.message,callback:function(e){t.$set(t.form,"message",e)},expression:"form.message"}})],1),o("el-form-item",[o("el-button",{staticStyle:{margin:"10px 0 0 20px"},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("下一步")]),o("el-button",{staticStyle:{"margin-top":"10px"},on:{click:function(e){t.active--}}},[t._v("返回")])],1)],1)],1)],2),o("el-step",{directives:[{name:"show",rawName:"v-show",value:2==t.active,expression:"active == 2"}],staticStyle:{height:"80vh"},attrs:{title:"訂單已完成"}},[o("template",{slot:"description"},[o("h2",[t._v("恭喜您已完成訂單，您的訂單編號為：")]),o("p",[t._v("我們會在活動當天前"),o("span",[t._v("七天")]),t._v("聯絡您討論當天內容，若是有需要的話也可以直接連絡我們唷！")]),o("p",[t._v("您可以在"),o("span",[t._v("我的訂單")]),t._v("中查詢您的訂單，若是要修改或刪除訂單請直接連絡我們。")]),o("ul",[o("p",[t._v("以下有幾點注意事項要提醒您：")]),o("li",[t._v("我們不會向邊友透漏您的個資")]),o("li",[t._v("在指定日期當天的72小時以前，若因故要取消合約，能無條件完全退費")]),o("li",[t._v("如果當天有不滿意邊友之處，在活動結束後72小時內提出合理原因，可予以退費50%")])])])],2)],1),o("productmodal",{ref:"frontendProductModal",attrs:{"dialog-visible":t.dialogVisible},on:{"close-modal":function(e){t.dialogVisible=!1}}})],1)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h2",{staticClass:"title"},[a("mark",{staticClass:"mark"},[t._v("我的購物車")])])}],c=(a("99af"),a("b441")),n={components:{productmodal:c["a"]},data:function(){return{cart:[],active:0,couponCode:"",coupon:{},couponStatus:null,payment:["WebATM","ATM","CVS","Barcode","Credit","ApplePay","GooglePay"],form:{name:"",email:"",tel:"",payment:"",message:""},rules:{name:[{required:!0,message:"請輸入姓名",trigger:"blur"}],tel:[{required:!0,message:"請輸入電話",trigger:"blur"}],email:[{required:!0,message:"請輸入email",trigger:"blur"},{type:"email",message:"請輸入正確的email格式",trigger:"blur"}],payment:[{required:!0,message:"請選擇付款方式",trigger:"change"}]},dialogVisible:!1,loading:!1}},created:function(){this.getCart()},methods:{getCart:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9999;this.loading=!0;var a="".concat("https://course-ec-api.hexschool.io","/api/").concat("f6274412-caf4-4237-aca4-557a5d22b124","/ec/shopping?paged=").concat(e);this.axios.get(a).then((function(e){t.cart=e.data.data,t.loading=!1})).catch((function(e){console.log(e),t.loading=!1}))},submitForm:function(t){var e=this;this.$refs[t].validate((function(t){t?e.active++:console.log("error submit!!")}))},sendCouponCode:function(){var t=this,e="".concat("https://course-ec-api.hexschool.io","/api/").concat("f6274412-caf4-4237-aca4-557a5d22b124","/ec/coupon/search");this.axios.post(e,{code:this.couponCode}).then((function(e){t.coupon=e.data.data,t.couponCode="",t.$notify({title:"恭喜～",message:"優惠券已存入購物車囉ヽ(●´∀`●)ﾉ",offset:150})})).catch((function(e){console.log(e),t.couponStatus=!1}))},deleteItem:function(t){var e=this;this.loading=!0;var a="".concat("https://course-ec-api.hexschool.io","/api/").concat("f6274412-caf4-4237-aca4-557a5d22b124","/ec/shopping/").concat(t);this.axios.delete(a).then((function(t){e.getCart(),e.$bus.$emit("updateCartNum")})).catch((function(t){console.log(t),e.loading=!1}))},deleteAll:function(){var t=this;this.loading=!0;var e="".concat("https://course-ec-api.hexschool.io","/api/").concat("f6274412-caf4-4237-aca4-557a5d22b124","/ec/shopping/all/product");this.axios.delete(e).then((function(e){t.getCart(),t.$bus.$emit("updateCartNum")})).catch((function(e){console.log(e),t.loading=!1}))},openModal:function(t){var e=this;this.loading=!0,this.$refs.frontendProductModal.getProduct(t),setTimeout((function(){e.dialogVisible=!0,e.loading=!1}),1e3)}}},r=n,s=(a("6fe5"),a("2877")),l=Object(s["a"])(r,o,i,!1,null,null,null);e["default"]=l.exports},e67b:function(t,e,a){t.exports=a.p+"img/close.1e7ec9c9.svg"},e8b5:function(t,e,a){var o=a("c6b6");t.exports=Array.isArray||function(t){return"Array"==o(t)}},f2ac:function(t,e,a){},f956:function(t,e,a){"use strict";var o=a("f2ac"),i=a.n(o);i.a}}]);
//# sourceMappingURL=chunk-3a46c15a.9d1b67db.js.map