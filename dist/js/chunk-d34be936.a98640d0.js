(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d34be936"],{"159b":function(t,e,a){var r=a("da84"),i=a("fdbc"),o=a("17c2"),n=a("9112");for(var c in i){var l=r[c],s=l&&l.prototype;if(s&&s.forEach!==o)try{n(s,"forEach",o)}catch(u){s.forEach=o}}},"17c2":function(t,e,a){"use strict";var r=a("b727").forEach,i=a("a640"),o=a("ae40"),n=i("forEach"),c=o("forEach");t.exports=n&&c?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},4160:function(t,e,a){"use strict";var r=a("23e7"),i=a("17c2");r({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},"6d09":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"backendProducts"},[a("div",{staticClass:"productsTopBtn"},[a("div",{staticClass:"categoryBtn"},[a("span",[t._v("類別：")]),t._l(t.category,(function(e){return a("span",{key:e.value,staticClass:"category",class:{category_active:t.productsList===t.data[e.value]},on:{click:function(a){t.productsList=t.data[e.value]}}},[t._v(t._s(e.name))])}))],2),a("el-button",{on:{click:function(e){return t.openModal("new")}}},[t._v("新增產品")])],1),a("productmodal",{ref:"productModal",attrs:{"dialog-visible":t.dialogVisible,"is-new":t.isNew},on:{"open-modal":function(e){t.dialogVisible=!0},"dialog-cancel":function(e){t.dialogVisible=!1},update:t.getProducts}}),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.productsList}},[a("el-table-column",{attrs:{label:"圖片",width:"50"},scopedSlots:t._u([{key:"default",fn:function(t){return a("div",{},[a("el-image",{staticStyle:{width:"100%"},attrs:{src:t.row.imageUrl[0],"preview-src-list":t.row.imageUrl}})],1)}}])}),a("el-table-column",{attrs:{label:"名稱",prop:"title",width:"180",align:"center"}}),a("el-table-column",{attrs:{label:"性別",prop:"options.gender",width:"80",align:"center",sortable:""}}),a("el-table-column",{attrs:{label:"類別",prop:"category",align:"center",sortable:""}}),a("el-table-column",{attrs:{label:"地區",prop:"options.area",align:"center",sortable:""}}),a("el-table-column",{attrs:{label:"價格",prop:"price",width:"80",align:"right",sortable:""}}),a("el-table-column",{attrs:{label:"是否啟用",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{},[e.row.enabled?a("span",{staticStyle:{color:"#c02c38"}},[t._v("啟用")]):a("span",[t._v("未啟用")])])}}])}),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"mini"},on:{click:function(a){return t.openModal("edit",e.row.id)}}},[t._v("編輯")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.deleteItem(e.row)}}},[t._v("刪除")])]}}])})],1)],1)},i=[],o=(a("4160"),a("159b"),a("5f95")),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:"新增產品",visible:t.dialogVisible,top:"0","before-close":t.cancel},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-form",{attrs:{"label-width":"80px"}},[a("el-form-item",{attrs:{label:"產品名稱"}},[a("el-input",{model:{value:t.tempProduct.title,callback:function(e){t.$set(t.tempProduct,"title",e)},expression:"tempProduct.title"}})],1),a("el-form-item",{attrs:{label:"產品類別"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"請選擇類別"},model:{value:t.tempProduct.category,callback:function(e){t.$set(t.tempProduct,"category",e)},expression:"tempProduct.category"}},t._l(t.category,(function(t){return a("el-option",{key:t.interest,attrs:{label:t.interest,value:t.interest}})})),1)],1),a("el-form-item",{attrs:{label:"性別"}},[a("el-radio-group",{model:{value:t.tempProduct.options.gender,callback:function(e){t.$set(t.tempProduct.options,"gender",e)},expression:"tempProduct.options.gender"}},t._l(t.gender,(function(t){return a("el-radio",{key:t.gender,attrs:{label:t.gender}})})),1)],1),a("el-form-item",{attrs:{label:"地區"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"請選擇地區"},model:{value:t.tempProduct.options.area,callback:function(e){t.$set(t.tempProduct.options,"area",e)},expression:"tempProduct.options.area"}},t._l(t.area,(function(t){return a("el-option",{key:t.city,attrs:{label:t.city,value:t.city}})})),1)],1),a("el-form-item",{attrs:{label:"售價"}},[a("el-input",{model:{value:t.tempProduct.price,callback:function(e){t.$set(t.tempProduct,"price",t._n(e))},expression:"tempProduct.price"}})],1),a("el-form-item",{attrs:{label:"產品內容"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.tempProduct.content,callback:function(e){t.$set(t.tempProduct,"content",e)},expression:"tempProduct.content"}})],1),a("el-form-item",{attrs:{label:"產品描述"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.tempProduct.description,callback:function(e){t.$set(t.tempProduct,"description",e)},expression:"tempProduct.description"}})],1),a("el-form-item",{attrs:{label:"上傳圖片"}},[a("el-image",{staticStyle:{width:"50%",height:"250px"},attrs:{src:t.tempProduct.imageUrl[0],"preview-src-list":t.tempProduct.imageUrl}}),a("el-input",{attrs:{placeholder:"請輸入圖片網址"},model:{value:t.tempProduct.imageUrl[0],callback:function(e){t.$set(t.tempProduct.imageUrl,0,e)},expression:"tempProduct.imageUrl[0]"}})],1),a("el-form-item",{attrs:{label:"是否啟用"}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.tempProduct.enabled,callback:function(e){t.$set(t.tempProduct,"enabled",e)},expression:"tempProduct.enabled"}})],1),a("el-form-item",{staticClass:"productModalBtn"},[a("el-button",{attrs:{type:"primary"},on:{click:t.updateProduct}},[t._v("儲存")]),a("el-button",{on:{click:t.cancel}},[t._v("取消")])],1)],1)],1)},c=[],l={data:function(){return{tempProduct:{title:"",category:"",content:"",description:"",price:"",options:{area:"",gender:""},enabled:!0,imageUrl:[]},category:[{interest:"運動"},{interest:"吃飯"},{interest:"出遊"},{interest:"玩桌遊"},{interest:"看電影"},{interest:"加購區"}],gender:[{gender:"男"},{gender:"女"}],area:[{city:"基隆市"},{city:"臺北市"},{city:"新北市"},{city:"桃園市"},{city:"新竹縣市"},{city:"苗栗縣"},{city:"臺中市"},{city:"彰化縣"},{city:"南投縣"},{city:"雲林縣"},{city:"嘉義縣市"},{city:"臺南市"},{city:"高雄市"},{city:"屏東縣"},{city:"宜蘭縣"},{city:"花蓮縣"},{city:"臺東縣"}]}},props:{dialogVisible:{type:Boolean,required:!0},isNew:{type:Boolean,required:!0}},methods:{cancel:function(){this.$emit("dialog-cancel")},getProduct:function(t){var e=this;Object(o["i"])(t).then((function(t){e.tempProduct=t.data.data,e.$emit("open-modal")}))},updateProduct:function(){var t=this;this.isNew?Object(o["j"])(this.tempProduct).then((function(){t.cancel(),t.$emit("update")})):this.isNew||Object(o["m"])(this.tempProduct).then((function(){t.cancel(),t.$emit("update")}))}}},s=l,u=a("2877"),d=Object(u["a"])(s,n,c,!1,null,null,null),p=d.exports,m={components:{productmodal:p},data:function(){return{dialogVisible:!1,productsList:[],isNew:!0,category:[{name:"全部",value:"all"},{name:"運動",value:"exercise"},{name:"吃飯",value:"eatout"},{name:"出遊",value:"hangout"},{name:"玩桌遊",value:"boardgame"},{name:"看電影",value:"movie"},{name:"加購區",value:"others"}],data:{all:[],exercise:[],eatout:[],hangout:[],boardgame:[],movie:[],others:[]}}},created:function(){this.getProducts()},methods:{getProducts:function(){var t=this;Object(o["l"])().then((function(e){t.data.all=e.data.data,t.data.all.forEach((function(e){var a=e.category;switch(a){case"運動":a="exercise";break;case"吃飯":a="eatout";break;case"出遊":a="hangout";break;case"玩桌遊":a="boardgame";break;case"看電影":a="movie";break;case"加購區":a="others";break;default:break}t.data[a].push(e)})),t.productsList=t.data.all}))},openModal:function(t,e){switch(t){case"new":this.$refs.productModal.tempProduct={options:{area:"",gender:""},imageUrl:[]},this.isNew=!0,this.dialogVisible=!0;break;case"edit":this.$refs.productModal.getProduct(e),this.isNew=!1;break;default:break}},deleteItem:function(t){var e=this;this.$confirm("確定要刪除 ".concat(t.title," 嗎？"),"提示",{confirmButtonText:"確定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$message({type:"success",message:"刪除成功!"}),Object(o["k"])(t.id).then((function(){e.getProducts()}))}))}}},f=m,b=Object(u["a"])(f,r,i,!1,null,null,null);e["default"]=b.exports},a640:function(t,e,a){"use strict";var r=a("d039");t.exports=function(t,e){var a=[][t];return!!a&&r((function(){a.call(null,e||function(){throw 1},1)}))}},ae40:function(t,e,a){var r=a("83ab"),i=a("d039"),o=a("5135"),n=Object.defineProperty,c={},l=function(t){throw t};t.exports=function(t,e){if(o(c,t))return c[t];e||(e={});var a=[][t],s=!!o(e,"ACCESSORS")&&e.ACCESSORS,u=o(e,0)?e[0]:l,d=o(e,1)?e[1]:void 0;return c[t]=!!a&&!i((function(){if(s&&!r)return!0;var t={length:-1};s?n(t,1,{enumerable:!0,get:l}):t[1]=1,a.call(t,u,d)}))}},b727:function(t,e,a){var r=a("0366"),i=a("44ad"),o=a("7b0b"),n=a("50c4"),c=a("65f0"),l=[].push,s=function(t){var e=1==t,a=2==t,s=3==t,u=4==t,d=6==t,p=5==t||d;return function(m,f,b,g){for(var h,v,y=o(m),P=i(y),k=r(f,b,3),w=n(P.length),S=0,L=g||c,x=e?L(m,w):a?L(m,0):void 0;w>S;S++)if((p||S in P)&&(h=P[S],v=k(h,S,y),t))if(e)x[S]=v;else if(v)switch(t){case 3:return!0;case 5:return h;case 6:return S;case 2:l.call(x,h)}else if(u)return!1;return d?-1:s||u?u:x}};t.exports={forEach:s(0),map:s(1),filter:s(2),some:s(3),every:s(4),find:s(5),findIndex:s(6)}},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-d34be936.a98640d0.js.map