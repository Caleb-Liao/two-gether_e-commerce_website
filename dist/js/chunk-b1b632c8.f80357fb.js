(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b1b632c8"],{"159b":function(t,e,n){var r=n("da84"),o=n("fdbc"),i=n("17c2"),a=n("9112");for(var c in o){var s=r[c],u=s&&s.prototype;if(u&&u.forEach!==i)try{a(u,"forEach",i)}catch(l){u.forEach=i}}},"17c2":function(t,e,n){"use strict";var r=n("b727").forEach,o=n("a640"),i=n("ae40"),a=o("forEach"),c=i("forEach");t.exports=a&&c?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},"1a8c":function(t,e){function n(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=n},"1dde":function(t,e,n){var r=n("d039"),o=n("b622"),i=n("2d00"),a=o("species");t.exports=function(t){return i>=51||!r((function(){var e=[],n=e.constructor={};return n[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"2b3e":function(t,e,n){var r=n("585a"),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();t.exports=i},3439:function(t,e,n){t.exports=n.p+"img/ticket.43a33580.svg"},"408c":function(t,e,n){var r=n("2b3e"),o=function(){return r.Date.now()};t.exports=o},4160:function(t,e,n){"use strict";var r=n("23e7"),o=n("17c2");r({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},4955:function(t,e,n){t.exports=n.p+"img/creditcard.3810a155.svg"},"4de4":function(t,e,n){"use strict";var r=n("23e7"),o=n("b727").filter,i=n("1dde"),a=n("ae40"),c=i("filter"),s=a("filter");r({target:"Array",proto:!0,forced:!c||!s},{filter:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},5789:function(t,e,n){t.exports=n.p+"img/cart2.25e64b59.svg"},"585a":function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n("c8ba"))},"65f0":function(t,e,n){var r=n("861d"),o=n("e8b5"),i=n("b622"),a=i("species");t.exports=function(t,e){var n;return o(t)&&(n=t.constructor,"function"!=typeof n||n!==Array&&!o(n.prototype)?r(n)&&(n=n[a],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},"73c6":function(t,e,n){t.exports=n.p+"img/tools.119d8abb.svg"},8418:function(t,e,n){"use strict";var r=n("c04e"),o=n("9bf2"),i=n("5c6c");t.exports=function(t,e,n){var a=r(e);a in t?o.f(t,a,i(0,n)):t[a]=n}},"860e":function(t,e,n){t.exports=n.p+"img/male.759b4d55.svg"},"99af":function(t,e,n){"use strict";var r=n("23e7"),o=n("d039"),i=n("e8b5"),a=n("861d"),c=n("7b0b"),s=n("50c4"),u=n("8418"),l=n("65f0"),f=n("1dde"),d=n("b622"),p=n("2d00"),v=d("isConcatSpreadable"),g=9007199254740991,h="Maximum allowed index exceeded",m=p>=51||!o((function(){var t=[];return t[v]=!1,t.concat()[0]!==t})),b=f("concat"),y=function(t){if(!a(t))return!1;var e=t[v];return void 0!==e?!!e:i(t)},x=!m||!b;r({target:"Array",proto:!0,forced:x},{concat:function(t){var e,n,r,o,i,a=c(this),f=l(a,0),d=0;for(e=-1,r=arguments.length;e<r;e++)if(i=-1===e?a:arguments[e],y(i)){if(o=s(i.length),d+o>g)throw TypeError(h);for(n=0;n<o;n++,d++)n in i&&u(f,d,i[n])}else{if(d>=g)throw TypeError(h);u(f,d++,i)}return f.length=d,f}})},a640:function(t,e,n){"use strict";var r=n("d039");t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){throw 1},1)}))}},ae40:function(t,e,n){var r=n("83ab"),o=n("d039"),i=n("5135"),a=Object.defineProperty,c={},s=function(t){throw t};t.exports=function(t,e){if(i(c,t))return c[t];e||(e={});var n=[][t],u=!!i(e,"ACCESSORS")&&e.ACCESSORS,l=i(e,0)?e[0]:s,f=i(e,1)?e[1]:void 0;return c[t]=!!n&&!o((function(){if(u&&!r)return!0;var t={length:-1};u?a(t,1,{enumerable:!0,get:s}):t[1]=1,n.call(t,l,f)}))}},b047:function(t,e,n){var r=n("1a8c"),o=n("408c"),i=n("b4b0"),a="Expected a function",c=Math.max,s=Math.min;function u(t,e,n){var u,l,f,d,p,v,g=0,h=!1,m=!1,b=!0;if("function"!=typeof t)throw new TypeError(a);function y(e){var n=u,r=l;return u=l=void 0,g=e,d=t.apply(r,n),d}function x(t){return g=t,p=setTimeout(C,e),h?y(t):d}function _(t){var n=t-v,r=t-g,o=e-n;return m?s(o,f-r):o}function S(t){var n=t-v,r=t-g;return void 0===v||n>=e||n<0||m&&r>=f}function C(){var t=o();if(S(t))return L(t);p=setTimeout(C,_(t))}function L(t){return p=void 0,b&&u?y(t):(u=l=void 0,d)}function w(){void 0!==p&&clearTimeout(p),g=0,u=v=l=p=void 0}function T(){return void 0===p?d:L(o())}function k(){var t=o(),n=S(t);if(u=arguments,l=this,v=t,n){if(void 0===p)return x(v);if(m)return clearTimeout(p),p=setTimeout(C,e),y(v)}return void 0===p&&(p=setTimeout(C,e)),d}return e=i(e)||0,r(n)&&(h=!!n.leading,m="maxWait"in n,f=m?c(i(n.maxWait)||0,e):f,b="trailing"in n?!!n.trailing:b),k.cancel=w,k.flush=T,k}t.exports=u},b0c0:function(t,e,n){var r=n("83ab"),o=n("9bf2").f,i=Function.prototype,a=i.toString,c=/^\s*function ([^ (]*)/,s="name";r&&!(s in i)&&o(i,s,{configurable:!0,get:function(){try{return a.call(this).match(c)[1]}catch(t){return""}}})},b441:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"frontendProductModal"},[r("el-dialog",{attrs:{visible:t.dialogVisible,width:"900px","before-close":t.closeModal},on:{"update:visible":function(e){t.dialogVisible=e}}},[r("el-row",{staticClass:"Modal"},[r("el-col",{attrs:{span:11,xs:24}},[r("div",{staticClass:"imgCircle"},[r("img",{staticClass:"productImg",attrs:{src:t.product.imageUrl[0],alt:""}})])]),r("el-col",{attrs:{span:13,xs:24}},[r("h3",[t._v(t._s(t.product.title))]),r("div",{staticClass:"basicInformation"},[r("h5",[t._v("基本資訊")]),r("p",[t._v("產品類別："+t._s(t.product.category))]),r("p",[t._v("性別："+t._s(t.product.options.gender))]),r("p",[t._v("地區："+t._s(t.product.options.area))]),r("p",[t._v("價錢："+t._s(t.product.price)+" $")])]),r("div",{staticClass:"line"}),r("div",{staticClass:"productInformation"},[r("h5",[t._v("產品資訊")]),r("div",{staticStyle:{display:"flex"}},[r("p",{staticStyle:{width:"22%"}},[t._v("產品內容：")]),r("p",{staticStyle:{width:"75%"}},[t._v(t._s(t.product.content))])]),r("div",{staticStyle:{display:"flex"}},[r("p",{staticStyle:{width:"22%"}},[t._v("產品描述：")]),r("p",{staticStyle:{width:"75%"}},[t._v(t._s(t.product.description))])])]),r("div",{staticClass:"button"},[r("el-button",{on:{click:function(e){return t.addToCart(t.product.id,"buy")}}},[t._v("直接購買"),r("img",{attrs:{src:n("4955"),alt:""}})]),r("el-button",{on:{click:function(e){return t.addToCart(t.product.id,"add")}}},[t._v("加入購物車"),r("img",{attrs:{src:n("5789"),alt:""}})])],1)])],1),r("div",{staticClass:"closeIcon",on:{click:t.closeModal}},[r("img",{attrs:{src:n("e67b"),alt:""}})])],1)],1)},o=[],i=n("d722"),a={data:function(){return{product:{imageUrl:[],options:{}}}},props:{dialogVisible:{type:Boolean,required:!0}},methods:{closeModal:function(){this.$emit("close-modal")},getProduct:function(t){var e=this;Object(i["j"])(t).then((function(t){e.product=t.data.data,e.$emit("open-modal")}))},addToCart:function(t,e){var n=this;Object(i["a"])({product:t,quantity:1}).then((function(t){n.$bus.$emit("updateCartNum"),n.$notify({title:"恭喜～",message:"商品已經加入購物車囉ヽ(●´∀`●)ﾉ",offset:150}),"buy"===e&&n.$router.push({name:"Cart"})})).catch((function(){n.$notify({title:"咦～",message:"商品已經在購物車裡囉(｡◕∀◕｡)",offset:150})}))}}},c=a,s=n("2877"),u=Object(s["a"])(c,r,o,!1,null,null,null);e["a"]=u.exports},b4b0:function(t,e){function n(t){return t}t.exports=n},b727:function(t,e,n){var r=n("0366"),o=n("44ad"),i=n("7b0b"),a=n("50c4"),c=n("65f0"),s=[].push,u=function(t){var e=1==t,n=2==t,u=3==t,l=4==t,f=6==t,d=5==t||f;return function(p,v,g,h){for(var m,b,y=i(p),x=o(y),_=r(v,g,3),S=a(x.length),C=0,L=h||c,w=e?L(p,S):n?L(p,0):void 0;S>C;C++)if((d||C in x)&&(m=x[C],b=_(m,C,y),t))if(e)w[C]=b;else if(b)switch(t){case 3:return!0;case 5:return m;case 6:return C;case 2:s.call(w,m)}else if(l)return!1;return f?-1:u||l?l:w}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6)}},c975:function(t,e,n){"use strict";var r=n("23e7"),o=n("4d64").indexOf,i=n("a640"),a=n("ae40"),c=[].indexOf,s=!!c&&1/[1].indexOf(1,-0)<0,u=i("indexOf"),l=a("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:s||!u||!l},{indexOf:function(t){return s?c.apply(this,arguments)||0:o(this,t,arguments.length>1?arguments[1]:void 0)}})},d722:function(t,e,n){"use strict";n.d(e,"k",(function(){return l})),n.d(e,"j",(function(){return f})),n.d(e,"d",(function(){return d})),n.d(e,"a",(function(){return p})),n.d(e,"c",(function(){return v})),n.d(e,"b",(function(){return g})),n.d(e,"e",(function(){return h})),n.d(e,"h",(function(){return m})),n.d(e,"g",(function(){return b})),n.d(e,"i",(function(){return y})),n.d(e,"f",(function(){return x}));n("99af"),n("d3b7");var r,o=n("b047"),i=n.n(o),a=n("bc3a"),c=n.n(a),s=n("5c96"),u=c.a.create({baseURL:"".concat("https://course-ec-api.hexschool.io","/api/").concat("f6274412-caf4-4237-aca4-557a5d22b124","/ec")}),l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:999;return u.get("/products?page=".concat(t,"&paged=").concat(e))},f=function(t){return u.get("product/".concat(t))},d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:999;return u.get("/shopping?paged=".concat(t))},p=function(t){return u.post("/shopping",t)},v=function(t){return u.delete("/shopping/".concat(t))},g=function(){return u.delete("/shopping/all/product")},h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:999;return c.a.get("".concat("https://course-ec-api.hexschool.io","/api/").concat("f6274412-caf4-4237-aca4-557a5d22b124","/ec/shopping?paged=").concat(t))},m=function(){return u.get("/orders")},b=function(t){return u.get("/orders/".concat(t))},y=function(t){return u.post("/orders",t)},x=function(t){return u.post("/coupon/search",t)},_=0;function S(){r=s["Loading"].service()}var C=i()((function(){r.close()}),300);u.interceptors.request.use((function(t){return 0===_&&S(),_++,t})),u.interceptors.response.use((function(t){return _--,0===_&&C(),t}),(function(t){return _--,0===_&&C(),Promise.reject(t)}))},d81d:function(t,e,n){"use strict";var r=n("23e7"),o=n("b727").map,i=n("1dde"),a=n("ae40"),c=i("map"),s=a("map");r({target:"Array",proto:!0,forced:!c||!s},{map:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},e0f8:function(t,e,n){t.exports=n.p+"img/cart.46a2dd4c.svg"},e67b:function(t,e,n){t.exports=n.p+"img/close.1e7ec9c9.svg"},e6dc:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"frontendProductsPage"},[t._m(0),r("span",{staticClass:"smallTitle"},[t._v("OurServices")]),r("div",{staticClass:"categoryBtn"},[r("span",[t._v("類別：")]),r("span",{staticClass:"category"},[t._v(t._s(t.categoryName))])]),r("div",{staticClass:"head"},[r("span",[t._v(t._s("Showing "+t.count.from+"-"+t.count.to+" of "+t.count.total+" results"))]),r("select",{directives:[{name:"model",rawName:"v-model",value:t.sort,expression:"sort"}],on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.sort=e.target.multiple?n:n[0]},t.sortProducts]}},t._l(t.sortList,(function(e){return r("option",{key:e.value,domProps:{value:e.value}},[t._v(t._s(e.name))])})),0)]),r("div",{staticClass:"productBox"},t._l(t.productsList,(function(e,o){return r("div",{key:e.id,staticClass:"product"},[o+1>9*(t.page-1)&&o+1<=9*t.page?r("div",[r("div",{staticClass:"imgCircle",on:{click:function(n){return t.openModal(e.id)}}},[r("img",{staticClass:"cartIcon",attrs:{src:n("e0f8"),alt:""},on:{click:function(n){return n.stopPropagation(),t.addToCart(e.id)}}}),r("transition",{attrs:{name:"fade"}},[t.imgShow?r("img",{staticClass:"productImg",attrs:{src:e.imageUrl[0],alt:""}}):t._e()])],1),r("div",{staticClass:"productInformation"},["客製化服務"===e.title?r("img",{attrs:{src:n("73c6"),alt:""}}):t._e(),"時數券(1hr)"===e.title||"情侶券"===e.title?r("img",{attrs:{src:n("3439"),alt:""}}):t._e(),"男"===e.options.gender?r("img",{attrs:{src:n("860e"),alt:""}}):t._e(),"女"===e.options.gender?r("img",{attrs:{src:n("f13a"),alt:""}}):t._e(),r("span",{staticStyle:{transform:"translateY(10px) translateX(20px)","font-size":"16px",color:"#a59a96"}},[t._v(t._s(e.options.area))]),r("span",{staticStyle:{"font-size":"20px"}},[t._v(t._s(e.title))]),r("span",[t._v(t._s(e.price)+" "),r("span",{staticStyle:{"font-size":"16px",color:"#a59a96","margin-left":"3px"}},[t._v("$")])])])]):t._e()])})),0),r("el-pagination",{ref:"pagination",attrs:{background:"",layout:"pager","page-count":t.totalPages,"hide-on-single-page":!0},on:{"current-change":function(e){t.imgShow=!1}}}),r("productmodal",{ref:"frontendProductModal",attrs:{"dialog-visible":t.dialogVisible},on:{"close-modal":function(e){t.dialogVisible=!1},"open-modal":function(e){t.dialogVisible=!0}}})],1)},o=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h2",{staticClass:"title"},[n("mark",{staticClass:"mark"},[t._v("服務項目")])])}],i=(n("4de4"),n("4160"),n("c975"),n("d81d"),n("b0c0"),n("159b"),n("d722")),a=n("b441"),c={components:{productmodal:a["a"]},data:function(){return{category:[{name:"全部",value:"all"},{name:"運動",value:"exercise"},{name:"吃飯",value:"eatout"},{name:"出遊",value:"hangout"},{name:"玩桌遊",value:"boardgame"},{name:"看電影",value:"movie"},{name:"加購區",value:"others"}],categoryList:{all:[],exercise:[],eatout:[],hangout:[],boardgame:[],movie:[],others:[]},sort:"",count:{from:0,to:0,total:0},sortList:[{name:"請選擇排序方式",value:""},{name:"排序依據性別",value:"gender"},{name:"排序依據地區",value:"area"},{name:"排序依據價錢",value:"price"}],dialogVisible:!1,imgShow:!1}},created:function(){var t=this;this.getProducts(),this.$bus.$on("reshowImg",(function(){t.imgShow=!1}))},updated:function(){this.imgShow=!0,this.count.from=9*this.page-8,this.count.total=this.productsList.length,this.page!==this.totalPages?this.count.to=9*this.page:this.count.to=this.productsList.length},computed:{totalPages:function(){return Math.ceil(this.categoryList[this.$route.params.category].length/9)},page:function(){return this.$refs.pagination.internalCurrentPage},productsList:function(){return this.categoryList[this.$route.params.category]},categoryName:function(){var t=this,e=this.category.filter((function(e){return t.$route.params.category===e.value}));return e[0].name}},methods:{getProducts:function(){var t=this;Object(i["k"])().then((function(e){t.categoryList.all=e.data.data,t.categoryList.all.forEach((function(e){var n=e.category;switch(n){case"運動":n="exercise";break;case"吃飯":n="eatout";break;case"出遊":n="hangout";break;case"玩桌遊":n="boardgame";break;case"看電影":n="movie";break;case"加購區":n="others";break;default:break}t.categoryList[n].push(e)}))}))},sortProducts:function(){var t=this;if(this.imgShow=!1,this.sort){var e=this.productsList.map((function(e,n){return"price"===t.sort?{index:n,value:e.price}:"area"===t.sort?{index:n,value:e.options.area}:"gender"===t.sort?{index:n,value:e.options.gender}:void 0}));"price"===this.sort||"gender"===this.sort?e.sort((function(t,e){return t.value>e.value?1:t.value<e.value?-1:0})):"area"===this.sort&&e.sort((function(t,e){var n=["基隆市","臺北市","新北市","桃園市","新竹縣市","苗栗縣","臺中市","彰化縣","南投縣","雲林縣","嘉義縣市","臺南市","高雄市","屏東縣","宜蘭縣","花蓮縣","臺東縣"];return n.indexOf(t.value)-n.indexOf(e.value)}));var n=e.map((function(e){return t.productsList[e.index]}));this.categoryList[this.$route.params.category]=n}},addToCart:function(t){var e=this;Object(i["a"])({product:t,quantity:1}).then((function(t){e.$bus.$emit("updateCartNum"),e.$notify({title:"恭喜～",message:"商品已經加入購物車囉ヽ(●´∀`●)ﾉ",offset:150})})).catch((function(){e.$notify({title:"咦～",message:"商品已經在購物車裡囉(｡◕∀◕｡)",offset:150})}))},openModal:function(t){this.$refs.frontendProductModal.getProduct(t)}}},s=c,u=n("2877"),l=Object(u["a"])(s,r,o,!1,null,null,null);e["default"]=l.exports},e8b5:function(t,e,n){var r=n("c6b6");t.exports=Array.isArray||function(t){return"Array"==r(t)}},f13a:function(t,e,n){t.exports=n.p+"img/female.a2810dc3.svg"},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-b1b632c8.f80357fb.js.map