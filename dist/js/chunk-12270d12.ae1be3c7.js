(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-12270d12"],{"159b":function(t,e,o){var a=o("da84"),i=o("fdbc"),r=o("17c2"),n=o("9112");for(var c in i){var s=a[c],u=s&&s.prototype;if(u&&u.forEach!==r)try{n(u,"forEach",r)}catch(l){u.forEach=r}}},"17c2":function(t,e,o){"use strict";var a=o("b727").forEach,i=o("a640"),r=o("ae40"),n=i("forEach"),c=r("forEach");t.exports=n&&c?[].forEach:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}},"1dde":function(t,e,o){var a=o("d039"),i=o("b622"),r=o("2d00"),n=i("species");t.exports=function(t){return r>=51||!a((function(){var e=[],o=e.constructor={};return o[n]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},3439:function(t,e,o){t.exports=o.p+"img/ticket.43a33580.svg"},4160:function(t,e,o){"use strict";var a=o("23e7"),i=o("17c2");a({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},4955:function(t,e,o){t.exports=o.p+"img/creditcard.3810a155.svg"},5789:function(t,e,o){t.exports=o.p+"img/cart2.25e64b59.svg"},"65f0":function(t,e,o){var a=o("861d"),i=o("e8b5"),r=o("b622"),n=r("species");t.exports=function(t,e){var o;return i(t)&&(o=t.constructor,"function"!=typeof o||o!==Array&&!i(o.prototype)?a(o)&&(o=o[n],null===o&&(o=void 0)):o=void 0),new(void 0===o?Array:o)(0===e?0:e)}},"73c6":function(t,e,o){t.exports=o.p+"img/tools.119d8abb.svg"},8247:function(t,e,o){"use strict";var a=o("eba7"),i=o.n(a);i.a},8418:function(t,e,o){"use strict";var a=o("c04e"),i=o("9bf2"),r=o("5c6c");t.exports=function(t,e,o){var n=a(e);n in t?i.f(t,n,r(0,o)):t[n]=o}},"860e":function(t,e,o){t.exports=o.p+"img/male.759b4d55.svg"},"99af":function(t,e,o){"use strict";var a=o("23e7"),i=o("d039"),r=o("e8b5"),n=o("861d"),c=o("7b0b"),s=o("50c4"),u=o("8418"),l=o("65f0"),d=o("1dde"),f=o("b622"),p=o("2d00"),g=f("isConcatSpreadable"),v=9007199254740991,h="Maximum allowed index exceeded",m=p>=51||!i((function(){var t=[];return t[g]=!1,t.concat()[0]!==t})),b=d("concat"),x=function(t){if(!n(t))return!1;var e=t[g];return void 0!==e?!!e:r(t)},y=!m||!b;a({target:"Array",proto:!0,forced:y},{concat:function(t){var e,o,a,i,r,n=c(this),d=l(n,0),f=0;for(e=-1,a=arguments.length;e<a;e++)if(r=-1===e?n:arguments[e],x(r)){if(i=s(r.length),f+i>v)throw TypeError(h);for(o=0;o<i;o++,f++)o in r&&u(d,f,r[o])}else{if(f>=v)throw TypeError(h);u(d,f++,r)}return d.length=f,d}})},"9dc9":function(t,e,o){t.exports=o.p+"img/more.809d2f76.svg"},a640:function(t,e,o){"use strict";var a=o("d039");t.exports=function(t,e){var o=[][t];return!!o&&a((function(){o.call(null,e||function(){throw 1},1)}))}},ae40:function(t,e,o){var a=o("83ab"),i=o("d039"),r=o("5135"),n=Object.defineProperty,c={},s=function(t){throw t};t.exports=function(t,e){if(r(c,t))return c[t];e||(e={});var o=[][t],u=!!r(e,"ACCESSORS")&&e.ACCESSORS,l=r(e,0)?e[0]:s,d=r(e,1)?e[1]:void 0;return c[t]=!!o&&!i((function(){if(u&&!a)return!0;var t={length:-1};u?n(t,1,{enumerable:!0,get:s}):t[1]=1,o.call(t,l,d)}))}},b727:function(t,e,o){var a=o("0366"),i=o("44ad"),r=o("7b0b"),n=o("50c4"),c=o("65f0"),s=[].push,u=function(t){var e=1==t,o=2==t,u=3==t,l=4==t,d=6==t,f=5==t||d;return function(p,g,v,h){for(var m,b,x=r(p),y=i(x),_=a(g,v,3),C=n(y.length),L=0,S=h||c,k=e?S(p,C):o?S(p,0):void 0;C>L;L++)if((f||L in y)&&(m=y[L],b=_(m,L,x),t))if(e)k[L]=b;else if(b)switch(t){case 3:return!0;case 5:return m;case 6:return L;case 2:s.call(k,m)}else if(l)return!1;return d?-1:u||l?l:k}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6)}},c975:function(t,e,o){"use strict";var a=o("23e7"),i=o("4d64").indexOf,r=o("a640"),n=o("ae40"),c=[].indexOf,s=!!c&&1/[1].indexOf(1,-0)<0,u=r("indexOf"),l=n("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:s||!u||!l},{indexOf:function(t){return s?c.apply(this,arguments)||0:i(this,t,arguments.length>1?arguments[1]:void 0)}})},d81d:function(t,e,o){"use strict";var a=o("23e7"),i=o("b727").map,r=o("1dde"),n=o("ae40"),c=r("map"),s=n("map");a({target:"Array",proto:!0,forced:!c||!s},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},e0f8:function(t,e,o){t.exports=o.p+"img/cart.46a2dd4c.svg"},e67b:function(t,e,o){t.exports=o.p+"img/close.1e7ec9c9.svg"},e6dc:function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"frontendProducts"},[t._m(0),a("span",{staticClass:"smallTitle"},[t._v("OurServices")]),a("div",{staticClass:"head"},[a("span",[t._v(t._s("Showing "+t.count.from+"-"+t.count.to+" of "+t.count.total+" results"))]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.sort,expression:"sort"}],on:{change:[function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.sort=e.target.multiple?o:o[0]},t.sortProducts]}},t._l(t.sortList,(function(e){return a("option",{key:e.value,domProps:{value:e.value}},[t._v(t._s(e.name))])})),0)]),a("div",{staticClass:"productBox"},t._l(t.productsList,(function(e,i){return a("div",{key:e.id,staticClass:"product"},[i+1>9*(t.page-1)&&i+1<=9*t.page?a("div",[a("div",{staticClass:"imgCircle"},[a("img",{staticClass:"cartIcon",attrs:{src:o("e0f8"),alt:""},on:{click:function(o){return t.addToCart(e.id)}}}),a("img",{staticClass:"informationIcon",attrs:{src:o("9dc9"),alt:""},on:{click:function(o){return t.openModal(e.id)}}}),a("img",{staticClass:"productImg",attrs:{src:e.imageUrl[0],alt:""}})]),a("div",{staticClass:"productInformation"},["客製化服務"==e.title?a("img",{attrs:{src:o("73c6"),alt:""}}):t._e(),"時數券(1hr)"==e.title||"情侶券"==e.title?a("img",{attrs:{src:o("3439"),alt:""}}):t._e(),"男"==e.options.gender?a("img",{attrs:{src:o("860e"),alt:""}}):t._e(),"女"==e.options.gender?a("img",{attrs:{src:o("f13a"),alt:""}}):t._e(),a("span",{staticStyle:{"margin-left":"50px"}},[t._v(t._s(e.title))]),a("span",[t._v(t._s(e.price)+" "),a("span",{staticStyle:{"font-size":"16px",color:"#a59a96","margin-left":"3px"}},[t._v("$")])])])]):t._e()])})),0),a("el-pagination",{ref:"pagination",attrs:{background:"",layout:"pager","page-count":t.totalPages,"hide-on-single-page":!0}}),a("productmodal",{ref:"frontendProductModal",attrs:{"dialog-visible":t.dialogVisible},on:{"close-modal":function(e){t.dialogVisible=!1}}})],1)},i=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("h2",{staticClass:"title"},[o("mark",{staticClass:"mark"},[t._v("服務項目")])])}],r=(o("99af"),o("4160"),o("c975"),o("d81d"),o("159b"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"frontendProductModal"},[a("el-dialog",{attrs:{visible:t.dialogVisible,width:"900px",top:"10vh","before-close":t.closeModal},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-row",{staticClass:"Modal"},[a("el-col",{attrs:{span:11}},[a("div",{staticClass:"imgCircle"},[a("img",{staticClass:"productImg",attrs:{src:t.product.imageUrl[0],alt:""}})])]),a("el-col",{attrs:{span:13}},[a("h2",[t._v(t._s(t.product.title))]),a("div",{staticClass:"basicInformation"},[a("h5",[t._v("基本資訊")]),a("p",[t._v("產品類別："+t._s(t.product.category))]),a("p",[t._v("性別："+t._s(t.product.options.gender))]),a("p",[t._v("地區："+t._s(t.product.options.area))]),a("p",[t._v("價錢："+t._s(t.product.price)+" $")])]),a("div",{staticClass:"productInformation"},[a("h5",[t._v("產品資訊")]),a("div",{staticStyle:{display:"flex"}},[a("p",{staticStyle:{width:"22%"}},[t._v("產品內容：")]),a("p",{staticStyle:{width:"75%"}},[t._v(t._s(t.product.content))])]),a("div",{staticStyle:{display:"flex"}},[a("p",{staticStyle:{width:"22%"}},[t._v("產品描述：")]),a("p",{staticStyle:{width:"75%"}},[t._v(t._s(t.product.description))])])]),a("div",{staticClass:"button"},[a("el-button",{on:{click:function(e){return t.addToCart(t.product.id,"add")}}},[t._v("直接購買"),a("img",{attrs:{src:o("4955"),alt:""}})]),a("el-button",{on:{click:function(e){return t.addToCart(t.product.id,"buy")}}},[t._v("加入購物車"),a("img",{attrs:{src:o("5789"),alt:""}})])],1)])],1),a("div",{staticClass:"closeIcon",on:{click:t.closeModal}},[a("img",{attrs:{src:o("e67b"),alt:""}})])],1)],1)}),n=[],c={data:function(){return{product:{imageUrl:[],options:{}}}},props:{dialogVisible:{type:Boolean,required:!0}},methods:{closeModal:function(){this.$emit("close-modal")},getProduct:function(t){var e=this,o="".concat("https://course-ec-api.hexschool.io","/api/").concat("f6274412-caf4-4237-aca4-557a5d22b124","/ec/product/").concat(t);this.axios.get(o).then((function(t){e.product=t.data.data})).catch((function(t){console.log(t)}))},addToCart:function(t,e){var o=this,a="".concat("https://course-ec-api.hexschool.io","/api/").concat("f6274412-caf4-4237-aca4-557a5d22b124","/ec/shopping");this.axios.post(a,{product:t,quantity:1}).then((function(t){"buy"===e&&o.$router.push({name:"Cart"})})).catch((function(t){console.log(t)}))}}},s=c,u=(o("f956"),o("2877")),l=Object(u["a"])(s,r,n,!1,null,null,null),d=l.exports,f={components:{productmodal:d},data:function(){return{categoryList:{all:[],exercise:[],eatout:[],hangout:[],boardgame:[],movie:[],others:[]},sort:"",count:{from:0,to:0,total:0},sortList:[{name:"請選擇排序方式",value:""},{name:"排序依據性別",value:"gender"},{name:"排序依據地區",value:"area"},{name:"排序依據價錢",value:"price"}],dialogVisible:!1,loading:!1}},created:function(){this.getProducts()},updated:function(){this.count.from=9*this.page-8,this.count.total=this.productsList.length,this.page!==this.totalPages?this.count.to=9*this.page:this.count.to=this.productsList.length},computed:{totalPages:function(){return Math.ceil(this.categoryList[this.$route.params.category].length/9)},page:function(){return this.$refs.pagination.internalCurrentPage},productsList:function(){return this.categoryList[this.$route.params.category]}},methods:{getProducts:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:99999;this.loading=!0;var a="".concat("https://course-ec-api.hexschool.io","/api/").concat("f6274412-caf4-4237-aca4-557a5d22b124","/ec/products?page=").concat(e,"&paged=").concat(o);this.axios.get(a).then((function(e){t.categoryList.all=e.data.data,t.categoryList.all.forEach((function(e){var o=e.category;switch(o){case"運動":o="exercise";break;case"吃飯":o="eatout";break;case"出遊":o="hangout";break;case"玩桌遊":o="boardgame";break;case"看電影":o="movie";break;case"加購區":o="others";break;default:break}t.categoryList[o].push(e)})),t.loading=!1})).catch((function(e){console.log(e),t.loading=!1}))},sortProducts:function(){var t=this;if(this.sort){var e=this.productsList.map((function(e,o){return"price"===t.sort?{index:o,value:e.price}:"area"===t.sort?{index:o,value:e.options.area}:"gender"===t.sort?{index:o,value:e.options.gender}:void 0}));"price"===this.sort||"gender"===this.sort?e.sort((function(t,e){return t.value>e.value?1:t.value<e.value?-1:0})):"area"===this.sort&&e.sort((function(t,e){var o=["基隆市","臺北市","新北市","桃園市","新竹縣市","苗栗縣","臺中市","彰化縣","南投縣","雲林縣","嘉義縣市","臺南市","高雄市","屏東縣","宜蘭縣","花蓮縣","臺東縣"];return o.indexOf(t.value)-o.indexOf(e.value)}));var o=e.map((function(e){return t.productsList[e.index]}));this.categoryList[this.$route.params.category]=o}},addToCart:function(t){var e="".concat("https://course-ec-api.hexschool.io","/api/").concat("f6274412-caf4-4237-aca4-557a5d22b124","/ec/shopping");this.axios.post(e,{product:t,quantity:1}).then((function(t){console.log("已新增至購物車")})).catch((function(t){console.log(t)}))},openModal:function(t){var e=this;this.loading=!0,this.$refs.frontendProductModal.getProduct(t),setTimeout((function(){e.dialogVisible=!0,e.loading=!1}),1e3)}}},p=f,g=(o("8247"),Object(u["a"])(p,a,i,!1,null,null,null));e["default"]=g.exports},e8b5:function(t,e,o){var a=o("c6b6");t.exports=Array.isArray||function(t){return"Array"==a(t)}},eba7:function(t,e,o){},f13a:function(t,e,o){t.exports=o.p+"img/female.a2810dc3.svg"},f2ac:function(t,e,o){},f956:function(t,e,o){"use strict";var a=o("f2ac"),i=o.n(a);i.a},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-12270d12.ae1be3c7.js.map