(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6c3fe96b"],{"127a":function(t,e,a){t.exports=a.p+"img/cartWhite2.593f8c33.svg"},"13c0":function(t,e,a){t.exports=a.p+"img/trashcan.04b3229d.svg"},"13d5":function(t,e,a){"use strict";var o=a("23e7"),n=a("d58f").left,r=a("a640"),i=a("ae40"),c=r("reduce"),s=i("reduce",{1:0});o({target:"Array",proto:!0,forced:!c||!s},{reduce:function(t){return n(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},1876:function(t,e,a){},"1dde":function(t,e,a){var o=a("d039"),n=a("b622"),r=a("2d00"),i=n("species");t.exports=function(t){return r>=51||!o((function(){var e=[],a=e.constructor={};return a[i]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"2fb3":function(t,e,a){t.exports=a.p+"img/cart3.f33afeb1.svg"},"3a30":function(t,e,a){t.exports=a.p+"img/send.66589dcd.svg"},4504:function(t,e,a){t.exports=a.p+"img/creditcard2White.01257dc7.svg"},4720:function(t,e,a){t.exports=a.p+"img/creditcard2.5884b5c2.svg"},4955:function(t,e,a){t.exports=a.p+"img/creditcard.3810a155.svg"},5789:function(t,e,a){t.exports=a.p+"img/cart2.25e64b59.svg"},"65f0":function(t,e,a){var o=a("861d"),n=a("e8b5"),r=a("b622"),i=r("species");t.exports=function(t,e){var a;return n(t)&&(a=t.constructor,"function"!=typeof a||a!==Array&&!n(a.prototype)?o(a)&&(a=a[i],null===a&&(a=void 0)):a=void 0),new(void 0===a?Array:a)(0===e?0:e)}},"6fe5":function(t,e,a){"use strict";var o=a("1876"),n=a.n(o);n.a},8418:function(t,e,a){"use strict";var o=a("c04e"),n=a("9bf2"),r=a("5c6c");t.exports=function(t,e,a){var i=o(e);i in t?n.f(t,i,r(0,a)):t[i]=a}},"99af":function(t,e,a){"use strict";var o=a("23e7"),n=a("d039"),r=a("e8b5"),i=a("861d"),c=a("7b0b"),s=a("50c4"),l=a("8418"),u=a("65f0"),d=a("1dde"),p=a("b622"),f=a("2d00"),m=p("isConcatSpreadable"),v=9007199254740991,h="Maximum allowed index exceeded",g=f>=51||!n((function(){var t=[];return t[m]=!1,t.concat()[0]!==t})),b=d("concat"),_=function(t){if(!i(t))return!1;var e=t[m];return void 0!==e?!!e:r(t)},x=!g||!b;o({target:"Array",proto:!0,forced:x},{concat:function(t){var e,a,o,n,r,i=c(this),d=u(i,0),p=0;for(e=-1,o=arguments.length;e<o;e++)if(r=-1===e?i:arguments[e],_(r)){if(n=s(r.length),p+n>v)throw TypeError(h);for(a=0;a<n;a++,p++)a in r&&l(d,p,r[a])}else{if(p>=v)throw TypeError(h);l(d,p++,r)}return d.length=p,d}})},"9a5b":function(t,e,a){t.exports=a.p+"img/return.e175836b.svg"},a640:function(t,e,a){"use strict";var o=a("d039");t.exports=function(t,e){var a=[][t];return!!a&&o((function(){a.call(null,e||function(){throw 1},1)}))}},ae40:function(t,e,a){var o=a("83ab"),n=a("d039"),r=a("5135"),i=Object.defineProperty,c={},s=function(t){throw t};t.exports=function(t,e){if(r(c,t))return c[t];e||(e={});var a=[][t],l=!!r(e,"ACCESSORS")&&e.ACCESSORS,u=r(e,0)?e[0]:s,d=r(e,1)?e[1]:void 0;return c[t]=!!a&&!n((function(){if(l&&!o)return!0;var t={length:-1};l?i(t,1,{enumerable:!0,get:s}):t[1]=1,a.call(t,u,d)}))}},b441:function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"frontendProductModal"},[o("el-dialog",{attrs:{visible:t.dialogVisible,width:"900px","before-close":t.closeModal},on:{"update:visible":function(e){t.dialogVisible=e}}},[o("el-row",{staticClass:"Modal"},[o("el-col",{attrs:{span:11,xs:24}},[o("div",{staticClass:"imgCircle"},[o("img",{staticClass:"productImg",attrs:{src:t.product.imageUrl[0],alt:""}})])]),o("el-col",{attrs:{span:13,xs:24}},[o("h3",[t._v(t._s(t.product.title))]),o("div",{staticClass:"basicInformation"},[o("h5",[t._v("基本資訊")]),o("p",[t._v("產品類別："+t._s(t.product.category))]),o("p",[t._v("性別："+t._s(t.product.options.gender))]),o("p",[t._v("地區："+t._s(t.product.options.area))]),o("p",[t._v("價錢："+t._s(t.product.price)+" $")])]),o("div",{staticClass:"line"}),o("div",{staticClass:"productInformation"},[o("h5",[t._v("產品資訊")]),o("div",{staticStyle:{display:"flex"}},[o("p",{staticStyle:{width:"22%"}},[t._v("產品內容：")]),o("p",{staticStyle:{width:"75%"}},[t._v(t._s(t.product.content))])]),o("div",{staticStyle:{display:"flex"}},[o("p",{staticStyle:{width:"22%"}},[t._v("產品描述：")]),o("p",{staticStyle:{width:"75%"}},[t._v(t._s(t.product.description))])])]),o("div",{staticClass:"button"},[o("el-button",{on:{click:function(e){return t.addToCart(t.product.id,"buy")}}},[t._v("直接購買"),o("img",{attrs:{src:a("4955"),alt:""}})]),o("el-button",{on:{click:function(e){return t.addToCart(t.product.id,"add")}}},[t._v("加入購物車"),o("img",{attrs:{src:a("5789"),alt:""}})])],1)])],1),o("div",{staticClass:"closeIcon",on:{click:t.closeModal}},[o("img",{attrs:{src:a("e67b"),alt:""}})])],1)],1)},n=[],r=(a("99af"),{data:function(){return{product:{imageUrl:[],options:{}}}},props:{dialogVisible:{type:Boolean,required:!0}},methods:{closeModal:function(){this.$emit("close-modal")},getProduct:function(t){var e=this,a="".concat("https://course-ec-api.hexschool.io","/api/").concat("f6274412-caf4-4237-aca4-557a5d22b124","/ec/product/").concat(t);this.axios.get(a).then((function(t){e.product=t.data.data})).catch((function(t){console.log(t)}))},addToCart:function(t,e){var a=this,o="".concat("https://course-ec-api.hexschool.io","/api/").concat("f6274412-caf4-4237-aca4-557a5d22b124","/ec/shopping");this.axios.post(o,{product:t,quantity:1}).then((function(t){a.$bus.$emit("updateCartNum"),a.$notify({title:"恭喜～",message:"商品已經加入購物車囉ヽ(●´∀`●)ﾉ",offset:150}),"buy"===e&&a.$router.push({name:"Cart"})})).catch((function(){a.$notify({title:"咦～",message:"商品已經在購物車裡囉(｡◕∀◕｡)",offset:150})}))}}}),i=r,c=(a("f956"),a("2877")),s=Object(c["a"])(i,o,n,!1,null,null,null);e["a"]=s.exports},b727:function(t,e,a){var o=a("0366"),n=a("44ad"),r=a("7b0b"),i=a("50c4"),c=a("65f0"),s=[].push,l=function(t){var e=1==t,a=2==t,l=3==t,u=4==t,d=6==t,p=5==t||d;return function(f,m,v,h){for(var g,b,_=r(f),x=n(_),y=o(m,v,3),C=i(x.length),w=0,S=h||c,k=e?S(f,C):a?S(f,0):void 0;C>w;w++)if((p||w in x)&&(g=x[w],b=y(g,w,_),t))if(e)k[w]=b;else if(b)switch(t){case 3:return!0;case 5:return g;case 6:return w;case 2:s.call(k,g)}else if(u)return!1;return d?-1:l||u?u:k}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},b789:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"cartPage"},[t._m(0),1==t.active?[t._m(1),o("el-button",{on:{click:t.deleteAll}},[t._v("清空購物車")]),o("el-table",{attrs:{data:t.cart}},[o("el-table-column",{attrs:{width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return o("div",{},[o("el-image",{attrs:{src:e.row.product.imageUrl[0]},on:{click:function(a){return t.openModal(e.row.product.id)}}})],1)}}],null,!1,1884794718)}),o("el-table-column",{attrs:{prop:"product.title",label:"品名",width:"250"}}),o("el-table-column",{attrs:{prop:"product.category",label:"類別",width:"180",align:"center"}}),o("el-table-column",{attrs:{prop:"product.price",label:"小計",align:"center"}}),o("el-table-column",{attrs:{align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return o("div",{},[o("img",{staticStyle:{cursor:"pointer"},attrs:{src:a("13c0"),alt:""},on:{click:function(a){return t.deleteItem(e.row.product.id)}}})])}}],null,!1,2677797539)})],1),o("div",{staticClass:"cost"},[o("div",[o("p",[t._v("折扣碼 ：")]),null==t.coupon?o("el-input",{staticStyle:{width:"120px"},attrs:{placeholder:"請輸入折扣碼"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.sendCouponCode(e)}},model:{value:t.couponCode,callback:function(e){t.couponCode=e},expression:"couponCode"}}):t._e(),t.coupon?o("span",[t._v("-"+t._s(t.couponDiscount)+"(-"+t._s(t.couponDiscountRate)+" %) 元")]):t._e()],1),t._m(2),o("div",[o("p",[t._v("共計 :")]),t.coupon?t.coupon?o("span",[t._v(t._s(t.cartTotalAfter)+" 元")]):t._e():o("span",[t._v(t._s(t.cartTotalBefore)+" 元")])])]),o("div",{staticStyle:{display:"flex","flex-direction":"column","align-items":"flex-end"}},[o("span",{directives:[{name:"show",rawName:"v-show",value:!t.couponStatus,expression:"!couponStatus"}],staticStyle:{color:"red","margin-top":"10px"}},[t._v("*您輸入的折扣碼錯誤，請重新輸入 !")]),o("el-button",{on:{click:function(e){t.active++}}},[t._v("前往結帳"),o("img",{attrs:{src:a("4955"),alt:""}})])],1)]:t._e(),2==t.active?[t._m(3),o("el-form",{ref:"ruleForm",attrs:{model:t.form,rules:t.rules,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"姓名：",prop:"name","label-width":"120px"}},[o("label",{attrs:{slot:"label"},slot:"label"},[o("span",{staticStyle:{"margin-right":"2em"}},[t._v("姓")]),t._v("名：")]),o("el-input",{staticClass:"input",attrs:{placeholder:"請填寫當日活動者"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),o("el-form-item",{attrs:{label:"電話：",prop:"tel","label-width":"120px"}},[o("label",{attrs:{slot:"label"},slot:"label"},[o("span",{staticStyle:{"margin-right":"2em"}},[t._v("電")]),t._v("話：")]),o("el-input",{staticClass:"input",attrs:{placeholder:"0912-345-678"},model:{value:t.form.tel,callback:function(e){t.$set(t.form,"tel",e)},expression:"form.tel"}})],1),o("el-form-item",{attrs:{label:"電子郵件：",prop:"email","label-width":"120px"}},[o("el-input",{staticClass:"input",attrs:{placeholder:"abc123999@gmail.com"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),o("el-form-item",{attrs:{label:"付款方式：",prop:"payment","label-width":"120px"}},[o("el-select",{attrs:{placeholder:"請選擇付款方式"},model:{value:t.form.payment,callback:function(e){t.$set(t.form,"payment",e)},expression:"form.payment"}},t._l(t.payment,(function(t){return o("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1),o("el-form-item",{attrs:{label:"備註：","label-width":"120px"}},[o("label",{attrs:{slot:"label"},slot:"label"},[o("span",{staticStyle:{"margin-right":"2em"}},[t._v("備")]),t._v("註：")]),o("el-input",{staticClass:"input",attrs:{type:"textarea",placeholder:"小提示：可以在我們聯絡您之前，先簡單告訴我們您的需求唷！ "},model:{value:t.form.message,callback:function(e){t.$set(t.form,"message",e)},expression:"form.message"}})],1)],1),o("el-button",{on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("確認送出"),o("img",{attrs:{src:a("3a30"),alt:""}})]),o("el-button",{staticStyle:{float:"left"},on:{click:function(e){t.active--}}},[o("img",{staticStyle:{transform:"translateX(-5px) translateY(5px)"},attrs:{src:a("9a5b"),alt:""}}),t._v("返回")])]:t._e(),3==t.active?[t._m(4),o("div",{staticClass:"complete"},[o("h3",[t._v("您的訂單已完成！")]),o("div",{staticClass:"content"},[o("p",[t._v("恭喜您已完成訂單，您的訂單編號為："+t._s(t.orderId)),o("br"),t._v(" 我們會在活動當天前七天聯絡您討論當天內容，"),o("br"),t._v(" 若是有需要的話也可以直接連絡我們！"),o("br"),t._v(" 您可以在我的訂單中查詢您的訂單，"),o("br"),t._v(" 若是要修改或刪除訂單請直接連絡我們。"),o("br"),t._v(" 以下有幾點注意事項要提醒您：")]),t._m(5)])])]:t._e(),o("productmodal",{ref:"frontendProductModal",attrs:{"dialog-visible":t.dialogVisible},on:{"close-modal":function(e){t.dialogVisible=!1}}})],2)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h2",{staticClass:"title"},[a("mark",{staticClass:"mark"},[t._v("我的購物車")])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"line1"},[o("img",{attrs:{src:a("2fb3"),alt:""}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("p",[t._v("運費 ：")]),a("span",[t._v("0 元")])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"line2"},[o("div",{staticClass:"line2-1"},[o("img",{attrs:{src:a("127a"),alt:""}})]),o("div",{staticClass:"line2-2"},[o("img",{attrs:{src:a("4720"),alt:""}})])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"line3"},[o("div",{staticClass:"line3-1"},[o("img",{attrs:{src:a("127a"),alt:""}})]),o("div",{staticClass:"line3-2"},[o("img",{attrs:{src:a("4504"),alt:""}})]),o("div",{staticClass:"line3-3"},[o("img",{attrs:{src:a("3a30"),alt:""}})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"text-decoration":"underline","margin-top":"2em"}},[a("p",[t._v("我們不會向邊友透漏您的個資"),a("br"),t._v(" 在指定日期當天的72小時以前，若因故要取消合約，能無條件完全退費"),a("br"),t._v(" 如果當天有不滿意邊友之處，在活動結束後72小時內提出合理原因，可予以退費50%")])])}],r=(a("99af"),a("d81d"),a("13d5"),a("b441")),i={components:{productmodal:r["a"]},data:function(){return{cart:[],active:1,couponCode:"",coupon:null,couponStatus:!0,orderId:"",payment:["WebATM","ATM","CVS","Barcode","Credit","ApplePay","GooglePay"],form:{name:"",email:"",tel:"",payment:"",message:"",address:"無",coupon:""},rules:{name:[{required:!0,message:"請輸入姓名",trigger:"blur"}],tel:[{required:!0,message:"請輸入電話",trigger:"blur"}],email:[{required:!0,message:"請輸入email",trigger:"blur"},{type:"email",message:"請輸入正確的email格式",trigger:"blur"}],payment:[{required:!0,message:"請選擇付款方式",trigger:"change"}]},dialogVisible:!1,loading:!1}},created:function(){this.getCart()},computed:{cartTotalBefore:function(){var t=this.cart.map((function(t){return t.product.price})),e=t.reduce((function(t,e){return t+e}),0);return e},couponDiscountRate:function(){return 100-this.coupon.percent},couponDiscount:function(){return Math.round(this.cartTotalBefore*this.couponDiscountRate/100)},cartTotalAfter:function(){return Math.round(this.cartTotalBefore*this.coupon.percent/100)}},methods:{getCart:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9999;this.loading=!0;var a="".concat("https://course-ec-api.hexschool.io","/api/").concat("f6274412-caf4-4237-aca4-557a5d22b124","/ec/shopping?paged=").concat(e);this.axios.get(a).then((function(e){t.cart=e.data.data,t.loading=!1})).catch((function(e){console.log(e),t.loading=!1}))},sendCouponCode:function(){var t=this;this.loading=!0;var e="".concat("https://course-ec-api.hexschool.io","/api/").concat("f6274412-caf4-4237-aca4-557a5d22b124","/ec/coupon/search");this.axios.post(e,{code:this.couponCode}).then((function(e){t.coupon=e.data.data,t.couponStatus=!0,t.form.coupon=t.couponCode,t.couponCode="",t.$notify({title:"恭喜～",message:"優惠券已存入購物車囉ヽ(●´∀`●)ﾉ",offset:150}),t.loading=!1})).catch((function(){t.couponStatus=!1,t.couponCode="",t.loading=!1}))},deleteItem:function(t){var e=this;this.loading=!0;var a="".concat("https://course-ec-api.hexschool.io","/api/").concat("f6274412-caf4-4237-aca4-557a5d22b124","/ec/shopping/").concat(t);this.axios.delete(a).then((function(t){e.getCart(),e.$bus.$emit("updateCartNum")})).catch((function(t){console.log(t),e.loading=!1}))},deleteAll:function(){var t=this;this.loading=!0;var e="".concat("https://course-ec-api.hexschool.io","/api/").concat("f6274412-caf4-4237-aca4-557a5d22b124","/ec/shopping/all/product");this.axios.delete(e).then((function(e){t.getCart(),t.$bus.$emit("updateCartNum")})).catch((function(e){console.log(e),t.loading=!1}))},openModal:function(t){var e=this;this.loading=!0,this.$refs.frontendProductModal.getProduct(t),setTimeout((function(){e.dialogVisible=!0,e.loading=!1}),1e3)},submitForm:function(t){var e=this;this.$refs[t].validate((function(t){t?e.sendOrder():console.log("error submit!!")}))},sendOrder:function(){var t=this;this.loading=!0;var e="".concat("https://course-ec-api.hexschool.io","/api/").concat("f6274412-caf4-4237-aca4-557a5d22b124","/ec/orders");this.axios.post(e,this.form).then((function(e){t.getOrderId()})).catch((function(e){console.log(e),t.loading=!1}))},getOrderId:function(){var t=this,e="".concat("https://course-ec-api.hexschool.io","/api/").concat("f6274412-caf4-4237-aca4-557a5d22b124","/ec/orders?paged=99999");this.axios.get(e).then((function(e){t.active++,t.orderId=e.data.data[0].id,t.loading=!1})).catch((function(e){console.log(e),t.loading=!1}))}}},c=i,s=(a("6fe5"),a("2877")),l=Object(s["a"])(c,o,n,!1,null,null,null);e["default"]=l.exports},d58f:function(t,e,a){var o=a("1c0b"),n=a("7b0b"),r=a("44ad"),i=a("50c4"),c=function(t){return function(e,a,c,s){o(a);var l=n(e),u=r(l),d=i(l.length),p=t?d-1:0,f=t?-1:1;if(c<2)while(1){if(p in u){s=u[p],p+=f;break}if(p+=f,t?p<0:d<=p)throw TypeError("Reduce of empty array with no initial value")}for(;t?p>=0:d>p;p+=f)p in u&&(s=a(s,u[p],p,l));return s}};t.exports={left:c(!1),right:c(!0)}},d81d:function(t,e,a){"use strict";var o=a("23e7"),n=a("b727").map,r=a("1dde"),i=a("ae40"),c=r("map"),s=i("map");o({target:"Array",proto:!0,forced:!c||!s},{map:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},e67b:function(t,e,a){t.exports=a.p+"img/close.1e7ec9c9.svg"},e8b5:function(t,e,a){var o=a("c6b6");t.exports=Array.isArray||function(t){return"Array"==o(t)}},f2ac:function(t,e,a){},f956:function(t,e,a){"use strict";var o=a("f2ac"),n=a.n(o);n.a}}]);
//# sourceMappingURL=chunk-6c3fe96b.f68a1e39.js.map