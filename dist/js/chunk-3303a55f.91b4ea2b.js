(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3303a55f"],{"127a":function(t,e,a){t.exports=a.p+"img/cartWhite2.593f8c33.svg"},"13c0":function(t,e,a){t.exports=a.p+"img/trashcan.04b3229d.svg"},"13d5":function(t,e,a){"use strict";var r=a("23e7"),n=a("d58f").left,o=a("a640"),i=a("ae40"),l=o("reduce"),s=i("reduce",{1:0});r({target:"Array",proto:!0,forced:!l||!s},{reduce:function(t){return n(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"2fb3":function(t,e,a){t.exports=a.p+"img/cart3.f33afeb1.svg"},"3a30":function(t,e,a){t.exports=a.p+"img/send.66589dcd.svg"},4504:function(t,e,a){t.exports=a.p+"img/creditcard2White.01257dc7.svg"},4720:function(t,e,a){t.exports=a.p+"img/creditcard2.5884b5c2.svg"},4955:function(t,e,a){t.exports=a.p+"img/creditcard.3810a155.svg"},5789:function(t,e,a){t.exports=a.p+"img/cart2.25e64b59.svg"},"793d":function(t,e,a){t.exports=a.p+"img/send2.f849a19e.svg"},"9a5b":function(t,e,a){t.exports=a.p+"img/return.e175836b.svg"},a640:function(t,e,a){"use strict";var r=a("d039");t.exports=function(t,e){var a=[][t];return!!a&&r((function(){a.call(null,e||function(){throw 1},1)}))}},ae40:function(t,e,a){var r=a("83ab"),n=a("d039"),o=a("5135"),i=Object.defineProperty,l={},s=function(t){throw t};t.exports=function(t,e){if(o(l,t))return l[t];e||(e={});var a=[][t],c=!!o(e,"ACCESSORS")&&e.ACCESSORS,u=o(e,0)?e[0]:s,d=o(e,1)?e[1]:void 0;return l[t]=!!a&&!n((function(){if(c&&!r)return!0;var t={length:-1};c?i(t,1,{enumerable:!0,get:s}):t[1]=1,a.call(t,u,d)}))}},b441:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"frontendProductModal"},[r("el-dialog",{attrs:{visible:t.dialogVisible,width:"900px","before-close":t.closeModal},on:{"update:visible":function(e){t.dialogVisible=e}}},[r("el-row",{staticClass:"Modal"},[r("el-col",{attrs:{span:11,xs:24}},[r("div",{staticClass:"imgCircle"},[r("img",{staticClass:"productImg",attrs:{src:t.product.imageUrl[0],alt:""}})])]),r("el-col",{attrs:{span:13,xs:24}},[r("h3",[t._v(t._s(t.product.title))]),r("div",{staticClass:"basicInformation"},[r("h5",[t._v("基本資訊")]),r("p",[t._v("產品類別："+t._s(t.product.category))]),r("p",[t._v("性別："+t._s(t.product.options.gender))]),r("p",[t._v("地區："+t._s(t.product.options.area))]),r("p",[t._v("價錢："+t._s(t.product.price)+" $")])]),r("div",{staticClass:"line"}),r("div",{staticClass:"productInformation"},[r("h5",[t._v("產品資訊")]),r("div",{staticStyle:{display:"flex"}},[r("p",{staticStyle:{width:"22%"}},[t._v("產品內容：")]),r("p",{staticStyle:{width:"75%"}},[t._v(t._s(t.product.content))])]),r("div",{staticStyle:{display:"flex"}},[r("p",{staticStyle:{width:"22%"}},[t._v("產品描述：")]),r("p",{staticStyle:{width:"75%"}},[t._v(t._s(t.product.description))])])]),r("div",{staticClass:"button"},[r("el-button",{on:{click:function(e){return t.addToCart(t.product.id,"buy")}}},[t._v("直接購買"),r("img",{attrs:{src:a("4955"),alt:""}})]),r("el-button",{on:{click:function(e){return t.addToCart(t.product.id,"add")}}},[t._v("加入購物車"),r("img",{attrs:{src:a("5789"),alt:""}})])],1)])],1),r("div",{staticClass:"closeIcon",on:{click:t.closeModal}},[r("img",{attrs:{src:a("e67b"),alt:""}})])],1)],1)},n=[],o=a("d722"),i={data:function(){return{product:{imageUrl:[],options:{}}}},props:{dialogVisible:{type:Boolean,required:!0}},methods:{closeModal:function(){this.$emit("close-modal")},getProduct:function(t){var e=this;Object(o["i"])(t).then((function(t){e.product=t.data.data,e.$emit("open-modal")}))},addToCart:function(t,e){var a=this;Object(o["a"])({product:t,quantity:1}).then((function(t){a.$bus.$emit("updateCartNum"),a.$notify({title:"恭喜～",message:"商品已經加入購物車囉ヽ(●´∀`●)ﾉ",offset:150}),"buy"===e&&a.$router.push({name:"Cart"})})).catch((function(){a.$notify({title:"咦～",message:"商品已經在購物車裡囉(｡◕∀◕｡)",offset:150})}))}}},l=i,s=a("2877"),c=Object(s["a"])(l,r,n,!1,null,null,null);e["a"]=c.exports},b727:function(t,e,a){var r=a("0366"),n=a("44ad"),o=a("7b0b"),i=a("50c4"),l=a("65f0"),s=[].push,c=function(t){var e=1==t,a=2==t,c=3==t,u=4==t,d=6==t,p=5==t||d;return function(f,m,v,g){for(var b,h,_=o(f),C=n(_),y=r(m,v,3),x=i(C.length),k=0,w=g||l,$=e?w(f,x):a?w(f,0):void 0;x>k;k++)if((p||k in C)&&(b=C[k],h=y(b,k,_),t))if(e)$[k]=h;else if(h)switch(t){case 3:return!0;case 5:return b;case 6:return k;case 2:s.call($,b)}else if(u)return!1;return d?-1:c||u?u:$}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},b789:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"cartPage"},[t._m(0),1===t.active?[t._m(1),r("el-button",{on:{click:t.deleteAll}},[t._v("清空購物車"),r("img",{attrs:{src:a("13c0"),alt:""}})]),r("el-table",{attrs:{data:t.cart}},[t.cart.length>0?r("el-table-column",{attrs:{width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return r("div",{},[r("el-image",{attrs:{src:e.row.product.imageUrl[0]},on:{click:function(a){return t.openModal(e.row.product.id)}}})],1)}}],null,!1,1884794718)}):t._e(),r("el-table-column",{attrs:{prop:"product.title",label:"品名"}}),r("el-table-column",{attrs:{prop:"product.category",label:"類別",align:"center"}}),r("el-table-column",{attrs:{prop:"product.price",label:"小計",align:"center"}}),r("el-table-column",{attrs:{align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return r("div",{},[r("img",{staticStyle:{cursor:"pointer"},attrs:{src:a("13c0"),alt:""},on:{click:function(a){return t.deleteItem(e.row.product.id)}}})])}}],null,!1,2677797539)})],1),r("div",{staticClass:"cost"},[r("div",[r("p",[t._v("折扣碼 ：")]),null===t.coupon?r("el-input",{staticStyle:{width:"120px"},attrs:{placeholder:"請輸入折扣碼"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.sendCouponCode(e)}},model:{value:t.couponCode,callback:function(e){t.couponCode=e},expression:"couponCode"}}):t._e(),t.coupon?r("span",[t._v("-"+t._s(t.couponDiscount)+"(-"+t._s(t.couponDiscountRate)+" %) 元")]):t._e()],1),t._m(2),r("div",[r("p",[t._v("共計 :")]),t.coupon?t.coupon?r("span",[t._v(t._s(t.cartTotalAfter)+" 元")]):t._e():r("span",[t._v(t._s(t.cartTotalBefore)+" 元")])])]),r("div",{staticStyle:{display:"flex","flex-direction":"column","align-items":"flex-end"}},[r("span",{directives:[{name:"show",rawName:"v-show",value:!t.couponStatus,expression:"!couponStatus"}],staticStyle:{color:"#F56C6C","margin-top":"15px"}},[t._v("*您輸入的折扣碼錯誤，請重新輸入 !")]),r("el-button",{on:{click:t.moveToForm}},[t._v("前往結帳"),r("img",{attrs:{src:a("4955"),alt:""}})])],1),r("div",{staticClass:"notice"},[0==t.cart.length?r("p",[t._v(" 購物車裡目前沒有商品唷，再來去逛逛吧！ "),r("router-link",{attrs:{to:"/products/all"}},[t._v("繼續逛逛")])],1):t._e()])]:t._e(),2===t.active?[t._m(3),r("el-form",{ref:"ruleForm",attrs:{model:t.form,rules:t.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"姓名：",prop:"name","label-width":"120px"}},[r("label",{attrs:{slot:"label",for:"name"},slot:"label"},[r("span",{staticStyle:{"margin-right":"2em"}},[t._v("姓")]),t._v("名：")]),r("el-input",{staticClass:"input",attrs:{placeholder:"請填寫當日活動者",id:"name"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),r("el-form-item",{attrs:{label:"電話：",prop:"tel","label-width":"120px"}},[r("label",{attrs:{slot:"label",for:"tel"},slot:"label"},[r("span",{staticStyle:{"margin-right":"2em"}},[t._v("電")]),t._v("話：")]),r("el-input",{staticClass:"input",attrs:{placeholder:"0912-345-678",id:"tel"},model:{value:t.form.tel,callback:function(e){t.$set(t.form,"tel",e)},expression:"form.tel"}})],1),r("el-form-item",{attrs:{label:"電子郵件：",prop:"email","label-width":"120px",for:"email"}},[r("el-input",{staticClass:"input",attrs:{placeholder:"abc123999@gmail.com",id:"email"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),r("el-form-item",{attrs:{label:"付款方式：",prop:"payment","label-width":"120px",for:"payment"}},[r("el-select",{attrs:{placeholder:"請選擇付款方式",id:"payment"},model:{value:t.form.payment,callback:function(e){t.$set(t.form,"payment",e)},expression:"form.payment"}},t._l(t.payment,(function(t){return r("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1),r("el-form-item",{attrs:{label:"備註：","label-width":"120px"}},[r("label",{attrs:{slot:"label",for:"notice"},slot:"label"},[r("span",{staticStyle:{"margin-right":"2em"}},[t._v("備")]),t._v("註：")]),r("el-input",{staticClass:"input",attrs:{type:"textarea",placeholder:"小提示：可以在我們聯絡您之前，先簡單告訴我們您的需求唷！ ",id:"notice"},model:{value:t.form.message,callback:function(e){t.$set(t.form,"message",e)},expression:"form.message"}})],1)],1),r("el-button",{on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("確認送出"),r("img",{attrs:{src:a("3a30"),alt:""}})]),r("el-button",{staticStyle:{float:"left"},on:{click:function(e){t.active--}}},[r("img",{staticStyle:{transform:"translateX(-5px) translateY(5px)"},attrs:{src:a("9a5b"),alt:""}}),t._v("返回")])]:t._e(),3===t.active?[t._m(4),r("div",{staticClass:"complete"},[r("h3",[t._v("您的訂單已完成！")]),r("div",{staticClass:"content"},[r("p",[t._v("恭喜您已完成訂單，您的訂單編號為："),r("br"),t._v(" "+t._s(t.orderId)),r("br"),t._v(" 我們會在活動當天前七天聯絡您討論當天內容，"),r("br"),t._v(" 若是有需要的話也可以直接連絡我們！"),r("br"),t._v(" 您可以在"),r("router-link",{attrs:{to:"/order"}},[t._v("我的訂單")]),t._v("中查詢您的訂單，"),r("br"),t._v(" 若要修改或刪除訂單請直接連絡我們。"),r("br"),t._v(" 以下有幾點注意事項要提醒您：")],1),t._m(5),r("p",[t._v("我們還有更多可愛的小哥哥、小姊姊唷！"),r("router-link",{attrs:{to:"/products/all"}},[t._v("繼續逛逛")])],1)])])]:t._e(),r("productmodal",{ref:"frontendProductModal",attrs:{"dialog-visible":t.dialogVisible},on:{"close-modal":function(e){t.dialogVisible=!1},"open-modal":function(e){t.dialogVisible=!0}}},[t._v(">")])],2)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h2",{staticClass:"title"},[a("mark",{staticClass:"mark"},[t._v("我的購物車")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"line1"},[r("img",{attrs:{src:a("2fb3"),alt:""}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("p",[t._v("運費 ：")]),a("span",[t._v("0 元")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"line2"},[r("div",{staticClass:"line2-1"},[r("img",{attrs:{src:a("127a"),alt:""}})]),r("div",{staticClass:"line2-2"},[r("img",{attrs:{src:a("4720"),alt:""}})])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"line3"},[r("div",{staticClass:"line3-1"},[r("img",{attrs:{src:a("127a"),alt:""}})]),r("div",{staticClass:"line3-2"},[r("img",{attrs:{src:a("4504"),alt:""}})]),r("div",{staticClass:"line3-3"},[r("img",{attrs:{src:a("793d"),alt:""}})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"text-decoration":"underline",margin:"2em 0"}},[a("p",[t._v("我們不會向邊友透漏您的個資"),a("br"),t._v(" 在指定日期當天的72小時以前，若因故要取消合約，能無條件完全退費"),a("br"),t._v(" 如果當天有不滿意邊友之處，在活動結束後72小時內提出合理原因，可予以退費50%")])])}],o=(a("d81d"),a("13d5"),a("d722")),i=a("b441"),l={components:{productmodal:i["a"]},data:function(){return{cart:[],active:1,couponCode:"",coupon:null,couponStatus:!0,orderId:"",payment:["WebATM","ATM","CVS","Barcode","Credit","ApplePay","GooglePay"],form:{name:"",email:"",tel:"",payment:"",message:"",address:"無",coupon:""},rules:{name:[{required:!0,message:"請輸入姓名",trigger:"blur"}],tel:[{required:!0,message:"請輸入電話",trigger:"blur"}],email:[{required:!0,message:"請輸入email",trigger:"blur"},{type:"email",message:"請輸入正確的email格式",trigger:"blur"}],payment:[{required:!0,message:"請選擇付款方式",trigger:"change"}]},dialogVisible:!1}},created:function(){this.getCart()},computed:{cartTotalBefore:function(){var t=this.cart.map((function(t){return t.product.price})),e=t.reduce((function(t,e){return t+e}),0);return e},couponDiscountRate:function(){return 100-this.coupon.percent},couponDiscount:function(){return Math.round(this.cartTotalBefore*this.couponDiscountRate/100)},cartTotalAfter:function(){return Math.round(this.cartTotalBefore*this.coupon.percent/100)}},methods:{getCart:function(){var t=this;Object(o["d"])().then((function(e){t.cart=e.data.data,0===t.cart.length&&(t.coupon=null)}))},sendCouponCode:function(){var t=this;Object(o["e"])({code:this.couponCode}).then((function(e){t.coupon=e.data.data,t.couponStatus=!0,t.form.coupon=t.couponCode,t.couponCode="",t.$notify({title:"恭喜～",message:"優惠券已存入購物車囉ヽ(●´∀`●)ﾉ",offset:150})})).catch((function(){t.couponStatus=!1,t.couponCode=""}))},deleteItem:function(t){var e=this;Object(o["c"])(t).then((function(t){e.getCart(),e.$bus.$emit("updateCartNum")}))},deleteAll:function(){var t=this;Object(o["b"])().then((function(e){t.getCart(),t.$bus.$emit("updateCartNum")}))},openModal:function(t){this.$refs.frontendProductModal.getProduct(t)},moveToForm:function(){0!==this.cart.length?this.active++:this.$notify({title:"哎呀～",message:"購物車目前沒有商品唷 ( ´ﾟДﾟ`)",offset:150})},submitForm:function(t){var e=this;this.$refs[t].validate((function(t){t&&e.sendOrder()}))},sendOrder:function(){var t=this;Object(o["h"])(this.form).then((function(){t.$bus.$emit("updateCartNum"),t.getOrderId()}))},getOrderId:function(){var t=this;Object(o["g"])().then((function(e){t.active++,t.orderId=e.data.data[0].id}))}}},s=l,c=a("2877"),u=Object(c["a"])(s,r,n,!1,null,null,null);e["default"]=u.exports},d58f:function(t,e,a){var r=a("1c0b"),n=a("7b0b"),o=a("44ad"),i=a("50c4"),l=function(t){return function(e,a,l,s){r(a);var c=n(e),u=o(c),d=i(c.length),p=t?d-1:0,f=t?-1:1;if(l<2)while(1){if(p in u){s=u[p],p+=f;break}if(p+=f,t?p<0:d<=p)throw TypeError("Reduce of empty array with no initial value")}for(;t?p>=0:d>p;p+=f)p in u&&(s=a(s,u[p],p,c));return s}};t.exports={left:l(!1),right:l(!0)}},d81d:function(t,e,a){"use strict";var r=a("23e7"),n=a("b727").map,o=a("1dde"),i=a("ae40"),l=o("map"),s=i("map");r({target:"Array",proto:!0,forced:!l||!s},{map:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},e67b:function(t,e,a){t.exports=a.p+"img/close.1e7ec9c9.svg"}}]);
//# sourceMappingURL=chunk-3303a55f.91b4ea2b.js.map