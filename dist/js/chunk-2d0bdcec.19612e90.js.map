{"version":3,"sources":["webpack:///./src/views/dashboard/Coupons.vue?fba1","webpack:///./src/components/CouponModal.vue?2c4f","webpack:///src/components/CouponModal.vue","webpack:///./src/components/CouponModal.vue?b8df","webpack:///./src/components/CouponModal.vue","webpack:///src/views/dashboard/Coupons.vue","webpack:///./src/views/dashboard/Coupons.vue?0220","webpack:///./src/views/dashboard/Coupons.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","on","$event","openModal","_v","ref","attrs","dialogVisible","isNew","getCoupons","directives","name","rawName","value","expression","staticStyle","couponList","scopedSlots","_u","key","fn","scope","row","id","deleteItem","staticRenderFns","cancel","model","tempCoupon","callback","$$v","$set","_n","deadline","_e","updateCoupon","data","title","code","percent","enabled","deadline_at","datetime","props","type","Boolean","required","methods","$emit","getCoupon","axios","get","api","then","httpMethod","component","components","couponmodal","CouponModal","loading","couponId","created","status","$refs","couponModal","setTimeout","$confirm","confirmButtonText","cancelButtonText","message"],"mappings":"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","file":"js/chunk-2d0bdcec.19612e90.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"couponList\"},[_c('div',{staticClass:\"couponsTopBtn\"},[_c('el-button',{on:{\"click\":function($event){return _vm.openModal('new')}}},[_vm._v(\"新增優惠券\")])],1),_c('couponmodal',{ref:\"couponModal\",attrs:{\"dialog-visible\":_vm.dialogVisible,\"is-new\":_vm.isNew},on:{\"update\":_vm.getCoupons,\"dialog-cancel\":function($event){_vm.dialogVisible = false}}}),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.couponList}},[_c('el-table-column',{attrs:{\"label\":\"名稱\",\"prop\":\"title\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"label\":\"序號\",\"prop\":\"code\",\"width\":\"200\",\"align\":\"center\",\"sortable\":\"\"}}),_c('el-table-column',{attrs:{\"label\":\"折扣百分比\",\"prop\":\"percent\",\"width\":\"150\",\"align\":\"center\",\"sortable\":\"\"}}),_c('el-table-column',{attrs:{\"label\":\"到期時間\",\"prop\":\"deadline.datetime\",\"width\":\"200\",\"align\":\"center\",\"sortable\":\"\"}}),_c('el-table-column',{attrs:{\"label\":\"是否啟用\",\"prop\":\"enabled\",\"width\":\"100\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _c('div',{},[(scope.row.enabled)?_c('span',{staticStyle:{\"color\":\"#c02c38\"}},[_vm._v(\"啟用\")]):_c('span',[_vm._v(\"未啟用\")])])}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.openModal('edit',scope.row.id)}}},[_vm._v(\"編輯\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.deleteItem(scope.row)}}},[_vm._v(\"刪除\")])]}}])})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"title\":\"新增優惠券\",\"visible\":_vm.dialogVisible,\"top\":\"5vh\",\"before-close\":_vm.cancel},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-form',{attrs:{\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"名稱\"}},[_c('el-input',{staticClass:\"couponModalInput\",model:{value:(_vm.tempCoupon.title),callback:function ($$v) {_vm.$set(_vm.tempCoupon, \"title\", $$v)},expression:\"tempCoupon.title\"}})],1),_c('el-form-item',{attrs:{\"label\":\"序號\"}},[_c('el-input',{staticClass:\"couponModalInput\",model:{value:(_vm.tempCoupon.code),callback:function ($$v) {_vm.$set(_vm.tempCoupon, \"code\", $$v)},expression:\"tempCoupon.code\"}})],1),_c('el-form-item',{attrs:{\"label\":\"折扣比例\"}},[_c('el-input',{staticClass:\"couponModalInput\",model:{value:(_vm.tempCoupon.percent),callback:function ($$v) {_vm.$set(_vm.tempCoupon, \"percent\", _vm._n($$v))},expression:\"tempCoupon.percent\"}}),_vm._v(\" % \")],1),(this.isNew === false)?_c('el-form-item',{attrs:{\"label\":\"舊到期日\"}},[_c('el-date-picker',{attrs:{\"disabled\":\"\",\"type\":\"datetime\",\"value-format\":\"yyyy-MM-dd HH:mm:ss\",\"default-time\":\"23:59:59\"},model:{value:(_vm.tempCoupon.deadline.datetime),callback:function ($$v) {_vm.$set(_vm.tempCoupon.deadline, \"datetime\", $$v)},expression:\"tempCoupon.deadline.datetime\"}})],1):_vm._e(),_c('el-form-item',{attrs:{\"label\":\"到期時間\"}},[_c('el-date-picker',{attrs:{\"type\":\"datetime\",\"value-format\":\"yyyy-MM-dd HH:mm:ss\",\"default-time\":\"23:59:59\"},model:{value:(_vm.tempCoupon.deadline_at),callback:function ($$v) {_vm.$set(_vm.tempCoupon, \"deadline_at\", $$v)},expression:\"tempCoupon.deadline_at\"}})],1),_c('el-form-item',{attrs:{\"label\":\"是否啟用\"}},[_c('el-switch',{attrs:{\"active-color\":\"#13ce66\",\"inactive-color\":\"#ff4949\"},model:{value:(_vm.tempCoupon.enabled),callback:function ($$v) {_vm.$set(_vm.tempCoupon, \"enabled\", $$v)},expression:\"tempCoupon.enabled\"}})],1),_c('el-form-item',{staticClass:\"couponModalBtn\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.updateCoupon}},[_vm._v(\"儲存\")]),_c('el-button',{on:{\"click\":_vm.cancel}},[_vm._v(\"取消\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-dialog\n    title=\"新增優惠券\"\n    :visible.sync=\"dialogVisible\"\n    top=\"5vh\"\n    :before-close=\"cancel\">\n    <el-form label-width=\"80px\">\n      <el-form-item label=\"名稱\">\n        <el-input v-model=\"tempCoupon.title\" class=\"couponModalInput\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"序號\">\n        <el-input v-model=\"tempCoupon.code\" class=\"couponModalInput\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"折扣比例\">\n        <el-input v-model.number=\"tempCoupon.percent\" class=\"couponModalInput\"></el-input> %\n      </el-form-item>\n      <el-form-item label=\"舊到期日\" v-if=\"this.isNew === false\">\n        <el-date-picker\n          disabled\n          v-model=\"tempCoupon.deadline.datetime\"\n          type=\"datetime\"\n          value-format=\"yyyy-MM-dd HH:mm:ss\"\n          default-time=\"23:59:59\">\n        </el-date-picker>\n      </el-form-item>\n      <el-form-item label=\"到期時間\">\n        <el-date-picker\n          v-model=\"tempCoupon.deadline_at\"\n          type=\"datetime\"\n          value-format=\"yyyy-MM-dd HH:mm:ss\"\n          default-time=\"23:59:59\">\n        </el-date-picker>\n      </el-form-item>\n      <el-form-item label=\"是否啟用\">\n        <el-switch\n          v-model=\"tempCoupon.enabled\"\n          active-color=\"#13ce66\"\n          inactive-color=\"#ff4949\">\n        </el-switch>\n      </el-form-item>\n      <el-form-item class=\"couponModalBtn\">\n        <el-button type=\"primary\" @click=\"updateCoupon\">儲存</el-button>\n        <el-button @click=\"cancel\">取消</el-button>\n      </el-form-item>\n    </el-form>\n  </el-dialog>\n</template>\n\n<script>\nexport default {\n  data () {\n    return {\n      tempCoupon: {\n        title: '',\n        code: '',\n        percent: 0,\n        enabled: true,\n        deadline_at: '',\n        deadline: {\n          datetime: ''\n        }\n      }\n    }\n  },\n\n  props: {\n    dialogVisible: {\n      type: Boolean,\n      required: true\n    },\n    isNew: {\n      type: Boolean,\n      required: true\n    }\n  },\n\n  methods: {\n    cancel () {\n      this.$emit('dialog-cancel')\n    },\n\n    getCoupon (id) {\n      const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_UUID}/admin/ec/coupon/${id}`\n      this.axios.get(api).then((response) => {\n        this.tempCoupon = response.data.data\n      })\n    },\n\n    updateCoupon () {\n      let api = ''\n      let httpMethod = ''\n      if (this.isNew) {\n        api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_UUID}/admin/ec/coupon`\n        httpMethod = 'post'\n      } else if (!this.isNew) {\n        api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_UUID}/admin/ec/coupon/${this.tempCoupon.id}`\n        httpMethod = 'patch'\n      }\n\n      this.axios[httpMethod](api, this.tempCoupon).then(() => {\n        this.cancel()\n        this.$emit('update')\n      })\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??ref--12-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CouponModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??ref--12-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CouponModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CouponModal.vue?vue&type=template&id=e828a740&\"\nimport script from \"./CouponModal.vue?vue&type=script&lang=js&\"\nexport * from \"./CouponModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"couponList\">\n    <div class=\"couponsTopBtn\">\n      <el-button @click=\"openModal('new')\">新增優惠券</el-button>\n    </div>\n\n    <couponmodal\n    :dialog-visible=\"dialogVisible\"\n    :is-new=\"isNew\"\n    ref=\"couponModal\"\n    @update=\"getCoupons\"\n    @dialog-cancel=\"dialogVisible = false\"></couponmodal>\n\n    <el-table\n      :data=\"couponList\"\n      v-loading=\"loading\"\n      style=\"width: 100%\">\n      <el-table-column\n        label=\"名稱\"\n        prop=\"title\"\n        width=\"180\">\n      </el-table-column>\n      <el-table-column\n        label=\"序號\"\n        prop=\"code\"\n        width=\"200\"\n        align=\"center\"\n        sortable>\n      </el-table-column>\n      <el-table-column\n        label=\"折扣百分比\"\n        prop=\"percent\"\n        width=\"150\"\n        align=\"center\"\n        sortable>\n      </el-table-column>\n      <el-table-column\n        label=\"到期時間\"\n        prop=\"deadline.datetime\"\n        width=\"200\"\n        align=\"center\"\n        sortable>\n      </el-table-column>\n      <el-table-column\n        label=\"是否啟用\"\n        prop=\"enabled\"\n        width=\"100\"\n        align=\"center\">\n        <div slot-scope=\"scope\">\n          <span v-if=\"scope.row.enabled\" style=\"color:#c02c38\">啟用</span>\n          <span v-else>未啟用</span>\n        </div>\n      </el-table-column>\n      <el-table-column label=\"操作\" align=\"center\">\n        <template slot-scope=\"scope\">\n          <el-button\n            size=\"mini\"\n            style=\"margin-left:10px\"\n            @click=\"openModal('edit',scope.row.id)\">編輯</el-button>\n          <el-button\n            size=\"mini\"\n            type=\"danger\" @click=\"deleteItem(scope.row)\">刪除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n  </div>\n</template>\n\n<script>\nimport CouponModal from '@/components/CouponModal'\n\nexport default {\n  components: {\n    couponmodal: CouponModal\n  },\n\n  data () {\n    return {\n      dialogVisible: false,\n      isNew: true,\n      loading: false,\n      couponId: '',\n      couponList: []\n    }\n  },\n\n  created () {\n    this.getCoupons()\n  },\n\n  methods: {\n    getCoupons () {\n      this.loading = true\n      const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_UUID}/admin/ec/coupons`\n      this.axios.get(api).then((response) => {\n        this.couponList = response.data.data\n        this.loading = false\n      })\n    },\n\n    openModal (status, id) {\n      switch (status) {\n        case 'new':\n          this.$refs.couponModal.tempCoupon = {}\n          this.isNew = true\n          this.dialogVisible = true\n          break\n        case 'edit':\n          this.couponId = id\n          this.$refs.couponModal.getCoupon(this.couponId)\n          this.isNew = false\n          this.loading = true\n          setTimeout(() => {\n            this.dialogVisible = true\n            this.loading = false\n          }, 1500)\n          break\n        default:\n          break\n      }\n    },\n\n    deleteItem (item) {\n      this.$confirm(`確定要刪除 ${item.title} 嗎？`, '提示', {\n        confirmButtonText: '確定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        this.$message({\n          type: 'success',\n          message: '刪除成功!'\n        })\n        this.loading = true\n        const url = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_UUID}/admin/ec/coupon/${item.id}`\n        this.axios.delete(url).then(() => {\n          this.getCoupons()\n        })\n      }).catch(() => {})\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??ref--12-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Coupons.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??ref--12-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Coupons.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Coupons.vue?vue&type=template&id=6523ca22&\"\nimport script from \"./Coupons.vue?vue&type=script&lang=js&\"\nexport * from \"./Coupons.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}