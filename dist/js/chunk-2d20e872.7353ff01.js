(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d20e872"],{b06d:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"orderList"},[r("ordermodal",{ref:"ordermodal",attrs:{"dialog-visible":e.dialogVisible},on:{"open-modal":function(t){e.dialogVisible=!0},"dialog-cancel":function(t){e.dialogVisible=!1}}}),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.ordersList}},[r("el-table-column",{attrs:{label:"訂單時間",prop:"created.datetime",width:"250",sortable:""}}),r("el-table-column",{attrs:{label:"名稱",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return r("div",{staticClass:"tableColumn"},e._l(t.row.products,(function(t,a){return r("span",{key:a},[e._v(e._s(t.product.title))])})),0)}}])}),r("el-table-column",{attrs:{label:"類別",width:"150",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return r("div",{staticClass:"tableColumn"},e._l(t.row.products,(function(t,a){return r("span",{key:a},[e._v(e._s(t.product.category))])})),0)}}])}),r("el-table-column",{attrs:{label:"付款方式",prop:"payment",width:"120",align:"center",sortable:""}}),r("el-table-column",{attrs:{label:"總消費金額",align:"right",width:"120",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(Math.round(t.row.amount)))])]}}])}),r("el-table-column",{attrs:{label:"是否付款",align:"center",width:"120",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(r){return e.changePaidStatus(t.row)}},model:{value:t.row.paid,callback:function(r){e.$set(t.row,"paid",r)},expression:"scope.row.paid"}})]}}])}),r("el-table-column",{attrs:{label:"訂單詳細資料",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"mini"},on:{click:function(r){return e.openModal(t.row.id)}}},[e._v("點我")])]}}])})],1)],1)},l=[],n=r("5f95"),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{title:"訂單資料",visible:e.dialogVisible,top:"0","before-close":e.cancel},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("span",{staticClass:"alert"},[e._v("請勿直接修改訂單，"),r("br"),e._v("若尚未付款則重新下單即可，"),r("br"),e._v("已付款者則聯絡退款後重新下單。")]),r("el-form",{staticStyle:{"margin-top":"20px"},attrs:{"label-width":"80px"}},[r("el-form-item",{attrs:{label:"留言事項"}},[r("el-input",{attrs:{placeholder:"無"},model:{value:e.tempOrder.message,callback:function(t){e.$set(e.tempOrder,"message",t)},expression:"tempOrder.message"}})],1),r("el-form-item",{attrs:{label:"姓名"}},[r("el-input",{model:{value:e.tempOrder.user.name,callback:function(t){e.$set(e.tempOrder.user,"name",t)},expression:"tempOrder.user.name"}})],1),r("el-form-item",{attrs:{label:"email"}},[r("el-input",{model:{value:e.tempOrder.user.email,callback:function(t){e.$set(e.tempOrder.user,"email",t)},expression:"tempOrder.user.email"}})],1),r("el-form-item",{attrs:{label:"電話"}},[r("el-input",{model:{value:e.tempOrder.user.tel,callback:function(t){e.$set(e.tempOrder.user,"tel",t)},expression:"tempOrder.user.tel"}})],1),r("el-form-item",{attrs:{label:"地址"}},[r("el-input",{model:{value:e.tempOrder.user.address,callback:function(t){e.$set(e.tempOrder.user,"address",t)},expression:"tempOrder.user.address"}})],1),r("el-form-item",{attrs:{label:"優惠券"}},[r("el-input",{attrs:{placeholder:"無"},model:{value:e.tempOrder.coupon.title,callback:function(t){e.$set(e.tempOrder.coupon,"title",t)},expression:"tempOrder.coupon.title"}})],1),r("el-form-item",{attrs:{label:"折抵%數"}},[r("el-input",{attrs:{placeholder:"無"},model:{value:e.tempOrder.coupon.percent,callback:function(t){e.$set(e.tempOrder.coupon,"percent",t)},expression:"tempOrder.coupon.percent"}})],1),r("el-form-item",{staticClass:"orderModalBtn"},[r("el-button",{attrs:{type:"primary"},on:{click:e.cancel}},[e._v("取消")])],1)],1)],1)},s=[],i={data:function(){return{tempOrder:{message:"",user:{name:"",email:"",tel:"",address:""},coupon:{title:"",percent:""}}}},props:{dialogVisible:{type:Boolean,required:!0}},methods:{cancel:function(){this.$emit("dialog-cancel")},getOrder:function(e){var t=this;Object(n["f"])(e).then((function(e){t.tempOrder.message=e.data.data.message,t.tempOrder.user=e.data.data.user,t.tempOrder.coupon.title=e.data.data.coupon.title,t.tempOrder.coupon.percent=e.data.data.coupon.percent,t.$emit("open-modal")}))}}},c=i,d=r("2877"),u=Object(d["a"])(c,o,s,!1,null,null,null),p=u.exports,m={components:{ordermodal:p},data:function(){return{dialogVisible:!1,ordersList:[],pagination:{}}},created:function(){this.getOrders()},methods:{getOrders:function(){var e=this;Object(n["g"])().then((function(t){e.ordersList=t.data.data,e.pagination=t.data.meta.pagination}))},changePaidStatus:function(e){var t=this;Object(n["h"])(e).then((function(){t.getOrders()}))},openModal:function(e){this.$refs.ordermodal.getOrder(e)}}},f=m,b=Object(d["a"])(f,a,l,!1,null,null,null);t["default"]=b.exports}}]);
//# sourceMappingURL=chunk-2d20e872.7353ff01.js.map