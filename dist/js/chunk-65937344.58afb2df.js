(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-65937344"],{"159b":function(t,e,a){var o=a("da84"),i=a("fdbc"),r=a("17c2"),n=a("9112");for(var s in i){var c=o[s],u=c&&c.prototype;if(u&&u.forEach!==r)try{n(u,"forEach",r)}catch(l){u.forEach=r}}},"17c2":function(t,e,a){"use strict";var o=a("b727").forEach,i=a("a640"),r=a("ae40"),n=i("forEach"),s=r("forEach");t.exports=n&&s?[].forEach:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}},"1dde":function(t,e,a){var o=a("d039"),i=a("b622"),r=a("2d00"),n=i("species");t.exports=function(t){return r>=51||!o((function(){var e=[],a=e.constructor={};return a[n]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},3439:function(t,e,a){t.exports=a.p+"img/ticket.43a33580.svg"},4160:function(t,e,a){"use strict";var o=a("23e7"),i=a("17c2");o({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},4955:function(t,e,a){t.exports=a.p+"img/creditcard.3810a155.svg"},5789:function(t,e,a){t.exports=a.p+"img/cart2.25e64b59.svg"},"65f0":function(t,e,a){var o=a("861d"),i=a("e8b5"),r=a("b622"),n=r("species");t.exports=function(t,e){var a;return i(t)&&(a=t.constructor,"function"!=typeof a||a!==Array&&!i(a.prototype)?o(a)&&(a=a[n],null===a&&(a=void 0)):a=void 0),new(void 0===a?Array:a)(0===e?0:e)}},"73c6":function(t,e,a){t.exports=a.p+"img/tools.119d8abb.svg"},8247:function(t,e,a){"use strict";var o=a("eba7"),i=a.n(o);i.a},8418:function(t,e,a){"use strict";var o=a("c04e"),i=a("9bf2"),r=a("5c6c");t.exports=function(t,e,a){var n=o(e);n in t?i.f(t,n,r(0,a)):t[n]=a}},"860e":function(t,e,a){t.exports=a.p+"img/male.759b4d55.svg"},"99af":function(t,e,a){"use strict";var o=a("23e7"),i=a("d039"),r=a("e8b5"),n=a("861d"),s=a("7b0b"),c=a("50c4"),u=a("8418"),l=a("65f0"),d=a("1dde"),f=a("b622"),p=a("2d00"),g=f("isConcatSpreadable"),h=9007199254740991,v="Maximum allowed index exceeded",m=p>=51||!i((function(){var t=[];return t[g]=!1,t.concat()[0]!==t})),b=d("concat"),x=function(t){if(!n(t))return!1;var e=t[g];return void 0!==e?!!e:r(t)},y=!m||!b;o({target:"Array",proto:!0,forced:y},{concat:function(t){var e,a,o,i,r,n=s(this),d=l(n,0),f=0;for(e=-1,o=arguments.length;e<o;e++)if(r=-1===e?n:arguments[e],x(r)){if(i=c(r.length),f+i>h)throw TypeError(v);for(a=0;a<i;a++,f++)a in r&&u(d,f,r[a])}else{if(f>=h)throw TypeError(v);u(d,f++,r)}return d.length=f,d}})},"9dc9":function(t,e,a){t.exports=a.p+"img/more.809d2f76.svg"},a640:function(t,e,a){"use strict";var o=a("d039");t.exports=function(t,e){var a=[][t];return!!a&&o((function(){a.call(null,e||function(){throw 1},1)}))}},ae40:function(t,e,a){var o=a("83ab"),i=a("d039"),r=a("5135"),n=Object.defineProperty,s={},c=function(t){throw t};t.exports=function(t,e){if(r(s,t))return s[t];e||(e={});var a=[][t],u=!!r(e,"ACCESSORS")&&e.ACCESSORS,l=r(e,0)?e[0]:c,d=r(e,1)?e[1]:void 0;return s[t]=!!a&&!i((function(){if(u&&!o)return!0;var t={length:-1};u?n(t,1,{enumerable:!0,get:c}):t[1]=1,a.call(t,l,d)}))}},b441:function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"frontendProductModal"},[o("el-dialog",{attrs:{visible:t.dialogVisible,width:"900px","before-close":t.closeModal},on:{"update:visible":function(e){t.dialogVisible=e}}},[o("el-row",{staticClass:"Modal"},[o("el-col",{attrs:{span:11,xs:24}},[o("div",{staticClass:"imgCircle"},[o("img",{staticClass:"productImg",attrs:{src:t.product.imageUrl[0],alt:""}})])]),o("el-col",{attrs:{span:13,xs:24}},[o("h3",[t._v(t._s(t.product.title))]),o("div",{staticClass:"basicInformation"},[o("h5",[t._v("基本資訊")]),o("p",[t._v("產品類別："+t._s(t.product.category))]),o("p",[t._v("性別："+t._s(t.product.options.gender))]),o("p",[t._v("地區："+t._s(t.product.options.area))]),o("p",[t._v("價錢："+t._s(t.product.price)+" $")])]),o("div",{staticClass:"line"}),o("div",{staticClass:"productInformation"},[o("h5",[t._v("產品資訊")]),o("div",{staticStyle:{display:"flex"}},[o("p",{staticStyle:{width:"22%"}},[t._v("產品內容：")]),o("p",{staticStyle:{width:"75%"}},[t._v(t._s(t.product.content))])]),o("div",{staticStyle:{display:"flex"}},[o("p",{staticStyle:{width:"22%"}},[t._v("產品描述：")]),o("p",{staticStyle:{width:"75%"}},[t._v(t._s(t.product.description))])])]),o("div",{staticClass:"button"},[o("el-button",{on:{click:function(e){return t.addToCart(t.product.id,"buy")}}},[t._v("直接購買"),o("img",{attrs:{src:a("4955"),alt:""}})]),o("el-button",{on:{click:function(e){return t.addToCart(t.product.id,"add")}}},[t._v("加入購物車"),o("img",{attrs:{src:a("5789"),alt:""}})])],1)])],1),o("div",{staticClass:"closeIcon",on:{click:t.closeModal}},[o("img",{attrs:{src:a("e67b"),alt:""}})])],1)],1)},i=[],r=(a("99af"),{data:function(){return{product:{imageUrl:[],options:{}}}},props:{dialogVisible:{type:Boolean,required:!0}},methods:{closeModal:function(){this.$emit("close-modal")},getProduct:function(t){var e=this,a="".concat("https://course-ec-api.hexschool.io","/api/").concat("f6274412-caf4-4237-aca4-557a5d22b124","/ec/product/").concat(t);this.axios.get(a).then((function(t){e.product=t.data.data})).catch((function(t){console.log(t)}))},addToCart:function(t,e){var a=this,o="".concat("https://course-ec-api.hexschool.io","/api/").concat("f6274412-caf4-4237-aca4-557a5d22b124","/ec/shopping");this.axios.post(o,{product:t,quantity:1}).then((function(t){a.$bus.$emit("updateCartNum"),a.$notify({title:"恭喜～",message:"商品已經加入購物車囉ヽ(●´∀`●)ﾉ",offset:150}),"buy"===e&&a.$router.push({name:"Cart"})})).catch((function(){a.$notify({title:"咦～",message:"商品已經在購物車裡囉(｡◕∀◕｡)",offset:150})}))}}}),n=r,s=(a("f956"),a("2877")),c=Object(s["a"])(n,o,i,!1,null,null,null);e["a"]=c.exports},b727:function(t,e,a){var o=a("0366"),i=a("44ad"),r=a("7b0b"),n=a("50c4"),s=a("65f0"),c=[].push,u=function(t){var e=1==t,a=2==t,u=3==t,l=4==t,d=6==t,f=5==t||d;return function(p,g,h,v){for(var m,b,x=r(p),y=i(x),_=o(g,h,3),C=n(y.length),S=0,L=v||s,w=e?L(p,C):a?L(p,0):void 0;C>S;S++)if((f||S in y)&&(m=y[S],b=_(m,S,x),t))if(e)w[S]=b;else if(b)switch(t){case 3:return!0;case 5:return m;case 6:return S;case 2:c.call(w,m)}else if(l)return!1;return d?-1:u||l?l:w}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6)}},c975:function(t,e,a){"use strict";var o=a("23e7"),i=a("4d64").indexOf,r=a("a640"),n=a("ae40"),s=[].indexOf,c=!!s&&1/[1].indexOf(1,-0)<0,u=r("indexOf"),l=n("indexOf",{ACCESSORS:!0,1:0});o({target:"Array",proto:!0,forced:c||!u||!l},{indexOf:function(t){return c?s.apply(this,arguments)||0:i(this,t,arguments.length>1?arguments[1]:void 0)}})},d81d:function(t,e,a){"use strict";var o=a("23e7"),i=a("b727").map,r=a("1dde"),n=a("ae40"),s=r("map"),c=n("map");o({target:"Array",proto:!0,forced:!s||!c},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},e0f8:function(t,e,a){t.exports=a.p+"img/cart.46a2dd4c.svg"},e67b:function(t,e,a){t.exports=a.p+"img/close.1e7ec9c9.svg"},e6dc:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"frontendProductsPage"},[t._m(0),o("span",{staticClass:"smallTitle"},[t._v("OurServices")]),o("div",{staticClass:"head"},[o("span",[t._v(t._s("Showing "+t.count.from+"-"+t.count.to+" of "+t.count.total+" results"))]),o("select",{directives:[{name:"model",rawName:"v-model",value:t.sort,expression:"sort"}],on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.sort=e.target.multiple?a:a[0]},t.sortProducts]}},t._l(t.sortList,(function(e){return o("option",{key:e.value,domProps:{value:e.value}},[t._v(t._s(e.name))])})),0)]),o("div",{staticClass:"productBox"},t._l(t.productsList,(function(e,i){return o("div",{key:e.id,staticClass:"product"},[i+1>9*(t.page-1)&&i+1<=9*t.page?o("div",[o("div",{staticClass:"imgCircle"},[o("img",{staticClass:"cartIcon",attrs:{src:a("e0f8"),alt:""},on:{click:function(a){return t.addToCart(e.id)}}}),o("img",{staticClass:"informationIcon",attrs:{src:a("9dc9"),alt:""},on:{click:function(a){return t.openModal(e.id)}}}),o("transition",{attrs:{name:"fade"}},[t.imgShow?o("img",{staticClass:"productImg",attrs:{src:e.imageUrl[0],alt:""}}):t._e()])],1),o("div",{staticClass:"productInformation"},["客製化服務"==e.title?o("img",{attrs:{src:a("73c6"),alt:""}}):t._e(),"時數券(1hr)"==e.title||"情侶券"==e.title?o("img",{attrs:{src:a("3439"),alt:""}}):t._e(),"男"==e.options.gender?o("img",{attrs:{src:a("860e"),alt:""}}):t._e(),"女"==e.options.gender?o("img",{attrs:{src:a("f13a"),alt:""}}):t._e(),o("span",{staticStyle:{"margin-left":"50px"}},[t._v(t._s(e.title))]),o("span",[t._v(t._s(e.price)+" "),o("span",{staticStyle:{"font-size":"16px",color:"#a59a96","margin-left":"3px"}},[t._v("$")])])])]):t._e()])})),0),o("el-pagination",{ref:"pagination",attrs:{background:"",layout:"pager","page-count":t.totalPages,"hide-on-single-page":!0},on:{"current-change":function(e){t.imgShow=!1}}}),o("productmodal",{ref:"frontendProductModal",attrs:{"dialog-visible":t.dialogVisible},on:{"close-modal":function(e){t.dialogVisible=!1}}})],1)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h2",{staticClass:"title"},[a("mark",{staticClass:"mark"},[t._v("服務項目")])])}],r=(a("99af"),a("4160"),a("c975"),a("d81d"),a("159b"),a("b441")),n={components:{productmodal:r["a"]},data:function(){return{categoryList:{all:[],exercise:[],eatout:[],hangout:[],boardgame:[],movie:[],others:[]},sort:"",count:{from:0,to:0,total:0},sortList:[{name:"請選擇排序方式",value:""},{name:"排序依據性別",value:"gender"},{name:"排序依據地區",value:"area"},{name:"排序依據價錢",value:"price"}],dialogVisible:!1,loading:!1,imgShow:!1}},created:function(){var t=this;this.getProducts(),this.$bus.$on("reshowImg",(function(){t.imgShow=!1}))},updated:function(){this.imgShow=!0,this.count.from=9*this.page-8,this.count.total=this.productsList.length,this.page!==this.totalPages?this.count.to=9*this.page:this.count.to=this.productsList.length},computed:{totalPages:function(){return Math.ceil(this.categoryList[this.$route.params.category].length/9)},page:function(){return this.$refs.pagination.internalCurrentPage},productsList:function(){return this.categoryList[this.$route.params.category]}},methods:{getProducts:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:99999;this.loading=!0;var o="".concat("https://course-ec-api.hexschool.io","/api/").concat("f6274412-caf4-4237-aca4-557a5d22b124","/ec/products?page=").concat(e,"&paged=").concat(a);this.axios.get(o).then((function(e){t.categoryList.all=e.data.data,t.categoryList.all.forEach((function(e){var a=e.category;switch(a){case"運動":a="exercise";break;case"吃飯":a="eatout";break;case"出遊":a="hangout";break;case"玩桌遊":a="boardgame";break;case"看電影":a="movie";break;case"加購區":a="others";break;default:break}t.categoryList[a].push(e)})),t.loading=!1})).catch((function(e){console.log(e),t.loading=!1}))},sortProducts:function(){var t=this;if(this.imgShow=!1,this.sort){var e=this.productsList.map((function(e,a){return"price"===t.sort?{index:a,value:e.price}:"area"===t.sort?{index:a,value:e.options.area}:"gender"===t.sort?{index:a,value:e.options.gender}:void 0}));"price"===this.sort||"gender"===this.sort?e.sort((function(t,e){return t.value>e.value?1:t.value<e.value?-1:0})):"area"===this.sort&&e.sort((function(t,e){var a=["基隆市","臺北市","新北市","桃園市","新竹縣市","苗栗縣","臺中市","彰化縣","南投縣","雲林縣","嘉義縣市","臺南市","高雄市","屏東縣","宜蘭縣","花蓮縣","臺東縣"];return a.indexOf(t.value)-a.indexOf(e.value)}));var a=e.map((function(e){return t.productsList[e.index]}));this.categoryList[this.$route.params.category]=a}},addToCart:function(t){var e=this,a="".concat("https://course-ec-api.hexschool.io","/api/").concat("f6274412-caf4-4237-aca4-557a5d22b124","/ec/shopping");this.axios.post(a,{product:t,quantity:1}).then((function(t){e.$bus.$emit("updateCartNum"),e.$notify({title:"恭喜～",message:"商品已經加入購物車囉ヽ(●´∀`●)ﾉ",offset:150})})).catch((function(){e.$notify({title:"咦～",message:"商品已經在購物車裡囉(｡◕∀◕｡)",offset:150})}))},openModal:function(t){var e=this;this.loading=!0,this.$refs.frontendProductModal.getProduct(t),setTimeout((function(){e.dialogVisible=!0,e.loading=!1}),1e3)},close:function(){console.log(123)}}},s=n,c=(a("8247"),a("2877")),u=Object(c["a"])(s,o,i,!1,null,null,null);e["default"]=u.exports},e8b5:function(t,e,a){var o=a("c6b6");t.exports=Array.isArray||function(t){return"Array"==o(t)}},eba7:function(t,e,a){},f13a:function(t,e,a){t.exports=a.p+"img/female.a2810dc3.svg"},f2ac:function(t,e,a){},f956:function(t,e,a){"use strict";var o=a("f2ac"),i=a.n(o);i.a},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-65937344.58afb2df.js.map